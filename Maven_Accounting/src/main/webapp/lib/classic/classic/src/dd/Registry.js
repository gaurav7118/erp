Ext.define("Ext.dd.Registry",{singleton:true,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(B,A){if(typeof B==="string"){return B}var C=B.id;if(!C&&A!==false){C="extdd-"+(++this.autoIdSeed);B.id=C}return C},register:function(D,E){E=E||{};if(typeof D==="string"){D=document.getElementById(D)}E.ddel=D;this.elements[this.getId(D)]=E;if(E.isHandle!==false){this.handles[E.ddel.id]=E}if(E.handles){var C=E.handles,B,A;for(B=0,A=C.length;B<A;B++){this.handles[this.getId(C[B])]=E}}},unregister:function(D){var F=this.getId(D,false),E=this.elements[F],C,B,A;if(E){delete this.elements[F];if(E.handles){C=E.handles;for(B=0,A=C.length;B<A;B++){delete this.handles[this.getId(C[B],false)]}}}},getHandle:function(A){if(typeof A!=="string"){A=A.id}return this.handles[A]},getHandleFromEvent:function(B){var A=B.getTarget();return A?this.handles[A.id]:null},getTarget:function(A){if(typeof A!=="string"){A=A.id}return this.elements[A]},getTargetFromEvent:function(B){var A=B.getTarget();return A?this.elements[A.id]||this.handles[A.id]:null}})