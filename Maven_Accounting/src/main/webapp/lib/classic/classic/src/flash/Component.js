Ext.define("Ext.flash.Component",{extend:"Ext.Component",alternateClassName:"Ext.FlashComponent",alias:"widget.flash",flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",swfWidth:"100%",swfHeight:"100%",expressInstall:false,renderTpl:['<div id="{swfId}" role="application"></div>'],initComponent:function(){if(!("swfobject" in window)){Ext.raise("The SWFObject library is not loaded. Ext.flash.Component requires SWFObject version 2.2 or later: http://code.google.com/p/swfobject/")}if(!this.url){Ext.raise('The "url" config is required for Ext.flash.Component')}this.callParent()},beforeRender:function(){this.callParent();Ext.applyIf(this.renderData,{swfId:this.getSwfId()})},afterRender:function(){var B=this,A=Ext.apply({},B.flashParams),C=Ext.apply({},B.flashVars);B.callParent();A=Ext.apply({allowScriptAccess:"always",bgcolor:B.backgroundColor,wmode:B.wmode},A);C=Ext.apply({allowedDomain:document.location.hostname},C);new swfobject.embedSWF(B.url,B.getSwfId(),B.swfWidth,B.swfHeight,B.flashVersion,B.expressInstall?B.statics.EXPRESS_INSTALL_URL:undefined,C,A,B.flashAttributes,B.swfCallback.bind(B))},swfCallback:function(B){var A=this;if(B.success){A.swf=Ext.get(B.ref);A.onSuccess();A.fireEvent("success",A)}else{A.onFailure();A.fireEvent("failure",A)}},getSwfId:function(){return this.swfId||(this.swfId="extswf"+this.getAutoId())},onSuccess:function(){this.swf.setStyle("visibility","inherit")},onFailure:Ext.emptyFn,beforeDestroy:function(){var B=this,A=B.swf;if(A){swfobject.removeSWF(B.getSwfId());Ext.destroy(A);delete B.swf}B.callParent()},statics:{EXPRESS_INSTALL_URL:"http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf"}})