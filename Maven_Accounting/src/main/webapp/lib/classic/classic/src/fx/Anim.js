Ext.define("Ext.fx.Anim",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager","Ext.fx.Animator","Ext.fx.Easing","Ext.fx.CubicBezier","Ext.fx.PropertyHandler"],isAnimation:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:false,running:false,paused:false,iterations:1,autoEnd:false,alternate:false,currentIteration:0,startTime:0,frameCount:0,constructor:function(A){var B=this,C;A=A||{};if(A.keyframes){return new Ext.fx.Animator(A)}Ext.apply(B,A);if(B.from===undefined){B.from={}}B.propHandlers={};B.config=A;B.target=Ext.fx.Manager.createTarget(B.target);B.easingFn=Ext.fx.Easing[B.easing];B.target.dynamic=B.dynamic;if(!B.easingFn){B.easingFn=String(B.easing).match(B.bezierRE);if(B.easingFn&&B.easingFn.length===5){C=B.easingFn;B.easingFn=Ext.fx.CubicBezier.cubicBezier(+C[1],+C[2],+C[3],+C[4])}}B.id=Ext.id(null,"ext-anim-");B.mixins.observable.constructor.call(B);Ext.fx.Manager.addAnim(B);if(A.autoEnd){B.running=true;B.jumpToEnd()}},setAttr:function(A,B){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,A,B)},initAttrs:function(){var E=this,G=E.from,H=E.to,F=E.initialFrom||{},C={},A,B,I,D;for(D in H){if(H.hasOwnProperty(D)){A=E.target.getAttr(D,G[D]);B=H[D];if(!Ext.fx.PropertyHandler[D]){if(Ext.isObject(B)){I=E.propHandlers[D]=Ext.fx.PropertyHandler.object}else{I=E.propHandlers[D]=Ext.fx.PropertyHandler.defaultHandler}}else{I=E.propHandlers[D]=Ext.fx.PropertyHandler[D]}C[D]=I.get(A,B,E.damper,F[D],D)}}E.currentAttrs=C},start:function(D){var E=this,C=E.delay,B=E.delayStart,A;if(C){if(!B){E.delayStart=D;return }else{A=D-B;if(A<C){return }else{D=new Date(B.getTime()+C)}}}if(E.fireEvent("beforeanimate",E)!==false){E.startTime=D;if(!E.paused&&!E.currentAttrs){E.initAttrs()}E.running=true;E.frameCount=0}},jumpToEnd:function(){var A=this;if(!A.endWasCalled){if(!A.currentAttrs){A.initAttrs()}Ext.fx.Manager.jumpToEnd(A);A.end()}},runAnim:function(K){var H=this,J=H.currentAttrs,D=H.duration,C=H.easingFn,B=H.propHandlers,F={},G,I,E,A;if(K>=D){K=D;A=true}if(H.reverse){K=D-K}for(E in J){if(J.hasOwnProperty(E)){I=J[E];G=A?1:C(K/D);F[E]=B[E].set(I,G)}}H.frameCount++;return F},lastFrame:function(){var C=this,A=C.iterations,B=C.currentIteration;B++;if(B<A){if(C.alternate){C.reverse=!C.reverse}C.startTime=new Date();C.currentIteration=B;C.paused=false}else{C.currentIteration=0;C.end();C.fireEvent("lastframe",C,C.startTime)}},endWasCalled:0,end:function(){var A=this;if(A.endWasCalled++){return }A.startTime=0;A.paused=false;A.running=false;Ext.fx.Manager.removeAnim(A);A.fireEvent("afteranimate",A,A.startTime);Ext.callback(A.callback,A.scope,[A,A.startTime]);if(A.remove){A.target.destroy()}},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return this.paused===false&&this.running===true&&this.isAnimator!==true}});Ext.enableFx=true