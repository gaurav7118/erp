Ext.define("Ext.fx.PropertyHandler",{requires:["Ext.fx.DrawPath"],statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(I,C,A,F,H){A=(typeof A=="number")?A:1;var G=this.unitRE,D=G.exec(I),B,E;if(D){I=D[1];E=D[2];if(!this.scrollRE.test(H)&&!E&&this.pixelDefaultsRE.test(H)){E="px"}}I=+I||0;D=G.exec(C);if(D){C=D[1];E=D[2]||E}C=+C||0;B=(F!=null)?F:I;return{from:I,delta:(C-B)*A,units:E}},get:function(L,B,A,K,H){var J=L.length,D=[],E,G,I,C,F;for(E=0;E<J;E++){if(K){G=K[E][1].from}if(Ext.isArray(L[E][1])&&Ext.isArray(B)){I=[];C=0;F=L[E][1].length;for(;C<F;C++){I.push(this.computeDelta(L[E][1][C],B[C],A,G,H))}D.push([L[E][0],I])}else{D.push([L[E][0],this.computeDelta(L[E][1],B,A,G,H)])}}return D},set:function(I,F){var G=I.length,C=[],D,A,H,E,B;for(D=0;D<G;D++){A=I[D][1];if(Ext.isArray(A)){H=[];B=0;E=A.length;for(;B<E;B++){H.push(A[B].from+A[B].delta*F+(A[B].units||0))}C.push([I[D][0],H])}else{C.push([I[D][0],A.from+A.delta*F+(A.units||0)])}}return C}},stringHandler:{computeDelta:function(E,B,D,C,A){return{from:E,delta:B}},get:function(I,B,A,H,F){var G=I.length,C=[],D,E;for(D=0;D<G;D++){C.push([I[D][0],this.computeDelta(I[D][1],B,A,E,F)])}return C},set:function(A,F){var D=A.length,B=[],C,E;for(C=0;C<D;C++){E=A[C][1];B.push([A[C][0],E.delta])}return B}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(E,A){A=(typeof A=="number")?A:1;var F=false,C=[this.hexRE,this.rgbRE,this.hex3RE],D=C.length,H,B,I,G;for(G=0;G<D;G++){I=C[G];B=(G%2===0)?16:10;H=I.exec(E);if(H&&H.length===4){if(G===2){H[1]+=H[1];H[2]+=H[2];H[3]+=H[3]}F={red:parseInt(H[1],B),green:parseInt(H[2],B),blue:parseInt(H[3],B)};break}}return F||E},computeDelta:function(G,A,E,C){G=this.parseColor(G);A=this.parseColor(A,E);var F=C?C:G,B=typeof F,D=typeof A;if(B==="string"||B==="undefined"||D==="string"||D==="undefined"){return A||F}return{from:G,delta:{red:Math.round((A.red-F.red)*E),green:Math.round((A.green-F.green)*E),blue:Math.round((A.blue-F.blue)*E)}}},get:function(H,A,F,D){var G=H.length,C=[],E,B;for(E=0;E<G;E++){if(D){B=D[E][1].from}C.push([H[E][0],this.computeDelta(H[E][1],A,F,B)])}return C},set:function(I,E){var F=I.length,C=[],D,B,A,G,H;for(D=0;D<F;D++){B=I[D][1];if(B){G=B.from;H=B.delta;B=(typeof B==="object"&&"red" in B)?"rgb("+B.red+", "+B.green+", "+B.blue+")":B;B=(typeof B==="object"&&B.length)?B[0]:B;if(typeof B==="undefined"){return[]}A=typeof B==="string"?B:"rgb("+[(G.red+Math.round(H.red*E))%256,(G.green+Math.round(H.green*E))%256,(G.blue+Math.round(H.blue*E))%256].join(",")+")";C.push([I[D][0],A])}}return C}},object:{interpolate:function(D,B){B=(typeof B==="number")?B:1;var A={},C;for(C in D){A[C]=parseFloat(D[C])*B}return A},computeDelta:function(G,A,C,B){G=this.interpolate(G);A=this.interpolate(A,C);var F=B?B:G,E={},D;for(D in A){E[D]=A[D]-F[D]}return{from:G,delta:E}},get:function(H,A,F,D){var G=H.length,C=[],E,B;for(E=0;E<G;E++){if(D){B=D[E][1].from}C.push([H[E][0],this.computeDelta(H[E][1],A,F,B)])}return C},set:function(J,F){var G=J.length,C=[],E={},D,H,I,B,A;for(D=0;D<G;D++){B=J[D][1];H=B.from;I=B.delta;for(A in H){E[A]=H[A]+I[A]*F}C.push([J[D][0],E])}return C}},path:{computeDelta:function(E,A,C,B){C=(typeof C==="number")?C:1;var D;E=+E||0;A=+A||0;D=(B!=null)?B:E;return{from:E,delta:(A-D)*C}},forcePath:function(A){if(!Ext.isArray(A)&&!Ext.isArray(A[0])){A=Ext.fx.DrawPath.parsePathString(A)}return A},get:function(B,H,A,M){var C=this.forcePath(H),J=[],O=B.length,D,G,K,F,L,I,E,P,N;for(K=0;K<O;K++){N=this.forcePath(B[K][1]);F=Ext.fx.DrawPath.interpolatePaths(N,C);N=F[0];C=F[1];D=N.length;P=[];for(I=0;I<D;I++){F=[N[I][0]];G=N[I].length;for(E=1;E<G;E++){L=M&&M[0][1][I][E].from;F.push(this.computeDelta(N[I][E],C[I][E],A,L))}P.push(F)}J.push([B[K][0],P])}return J},set:function(L,J){var K=L.length,E=[],G,F,D,H,I,C,A,B;for(G=0;G<K;G++){C=L[G][1];H=[];A=C.length;for(F=0;F<A;F++){I=[C[F][0]];B=C[F].length;for(D=1;D<B;D++){I.push(C[F][D].from+C[F][D].delta*J)}H.push(I.join(","))}E.push([L[G][0],H.join(",")])}return E}}}},function(){var B=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],C=B.length,A=0,D;for(;A<C;A++){D=B[A];this[D]=this.color}B=["cursor"];C=B.length;A=0;for(;A<C;A++){D=B[A];this[D]=this.stringHandler}})