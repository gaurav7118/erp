Ext.define("Ext.grid.ColumnManager",{alternateClassName:["Ext.grid.ColumnModel"],columns:null,constructor:function(B,C,A){if(!C.isRootHeader&&!C.isGroupHeader){Ext.raise("ColumnManager must be passed an instantiated HeaderContainer or group header")}this.headerCt=C;if(A){if(!C.isRootHeader&&!C.isGroupHeader){Ext.raise("ColumnManager must be passed an instantiated HeaderContainer or group header")}this.secondHeaderCt=A}this.visibleOnly=!!B},getColumns:function(){if(!this.columns){this.cacheColumns()}return this.columns},hasVariableRowHeight:function(){var D=this,C=D.getColumns(),A=C.length,B;if(D.variableRowHeight==null){D.variableRowHeight=false;for(B=0;!D.variableRowHeight&&B<A;B++){D.variableRowHeight=!!C[B].variableRowHeight}}return D.variableRowHeight},getHeaderIndex:function(A){if(A.isGroupHeader){A=this.getHeaderColumns(A)[0]}return Ext.Array.indexOf(this.getColumns(),A)},getHeaderAtIndex:function(B){var C=this.getColumns(),A=C[B];return A||null},getPreviousSibling:function(C){var B=this.getHeaderIndex(C),A=null;if(B>0){A=this.getColumns()[B-1]}return A},getNextSibling:function(C){var B=this.getHeaderIndex(C),A;if(B!==-1){A=this.getColumns()[B+1]}return A||null},getFirst:function(){var A=this.getColumns();return A.length>0?A[0]:null},getLast:function(){var B=this.getColumns(),A=B.length;return A>0?B[A-1]:null},getHeaderByDataIndex:function(D){var C=this.getColumns(),A=C.length,B,E;for(B=0;B<A;++B){E=C[B];if(E.dataIndex===D){return E}}return null},getHeaderById:function(E){var C=this.getColumns(),A=C.length,B,D;for(B=0;B<A;++B){D=C[B];if(D.getItemId()===E){return D}}return null},getVisibleHeaderClosestToIndex:function(B){var A=this.getHeaderAtIndex(B);if(A&&A.hidden){A=A.next(":not([hidden])")||A.prev(":not([hidden])")}return A},cacheColumns:function(){var B=this.getHeaderColumns(this.headerCt),A=this.secondHeaderCt;if(A){B=B.concat(this.getHeaderColumns(A))}this.columns=B},getHeaderColumns:function(B){var A=this.visibleOnly?B.getVisibleGridColumns():B.getGridColumns();return Ext.Array.clone(A)},invalidate:function(){var A=this.rootColumns;this.columns=this.variableRowHeight=null;if(A){A.invalidate()}},destroy:function(){this.columns=this.rootColumns=null;this.callParent()}},function(){this.createAlias("indexOf","getHeaderIndex")})