Ext.define("Ext.grid.property.Store",{extend:"Ext.data.Store",alternateClassName:"Ext.grid.PropertyStore",remoteSort:true,requires:["Ext.grid.property.Reader","Ext.data.proxy.Memory","Ext.grid.property.Property"],constructor:function(A,C){var B=this;B.grid=A;B.source=C;B.callParent([{data:C,model:Ext.grid.property.Property,proxy:B.getProxy()}])},getProxy:function(){var A=this.proxy;if(!A){A=this.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()})}return A},getReader:function(){var A=this.reader;if(!A){A=this.reader=new Ext.grid.property.Reader({model:Ext.grid.property.Property})}return A},setSource:function(A){var B=this;B.source=A;B.suspendEvents();B.removeAll();B.getProxy().setData(A);B.load();B.resumeEvents();B.fireEvent("datachanged",B);B.fireEvent("refresh",B)},getProperty:function(C){var B=Ext.isNumber(C)?this.getAt(C):this.getById(C),A=null;if(B){A=B.get("value")}return A},setValue:function(E,C,A){var B=this,D=B.getRec(E);if(D){D.set("value",C);B.source[E]=C}else{if(A){B.source[E]=C;D=new Ext.grid.property.Property({name:E,value:C},E);B.add(D)}}},remove:function(B){var A=this.getRec(B);if(A){this.callParent([A]);delete this.source[B]}},getRec:function(A){return this.getById(A)},getSource:function(){return this.source},onDestroy:function(){Ext.destroy(this.reader,this.proxy);this.callParent()}})