Ext.define("Ext.layout.container.CheckboxGroup",{extend:"Ext.layout.container.Container",alias:["layout.checkboxgroup"],autoFlex:true,type:"checkboxgroup",createsInnerCt:true,childEls:["innerCt"],renderTpl:['<table id="{ownerId}-innerCt" data-ref="innerCt" class="'+Ext.baseCSSPrefix+'table-plain" cellpadding="0"','role="presentation" style="{tableStyle}"><tr role="presentation">','<tpl for="columns">','<td class="{parent.colCls}" valign="top" style="{style}" role="presentation">',"{% this.renderColumn(out,parent,xindex-1) %}","</td>","</tpl>","</tr></table>"],lastOwnerItemsGeneration:null,beginLayout:function(B){var I=this,E,D,G,A,H,F=0,K=0,J=I.autoFlex,C=I.innerCt.dom.style;I.callParent(arguments);E=I.columnNodes;B.innerCtContext=B.getEl("innerCt",I);if(!B.widthModel.shrinkWrap){D=E.length;if(I.columnsArray){for(G=0;G<D;G++){A=I.owner.columns[G];if(A<1){F+=A;K++}}for(G=0;G<D;G++){A=I.owner.columns[G];if(A<1){H=((A/F)*100)+"%"}else{H=A+"px"}E[G].style.width=H}}else{for(G=0;G<D;G++){H=J?(1/D*100)+"%":"";E[G].style.width=H;K++}}if(!K){C.tableLayout="fixed";C.width=""}else{if(K<D){C.tableLayout="fixed";C.width="100%"}else{C.tableLayout="auto";if(J){C.width="100%"}else{C.width=""}}}}else{C.tableLayout="auto";C.width=""}},cacheElements:function(){var A=this;A.callParent();A.rowEl=A.innerCt.down("tr");A.columnNodes=A.rowEl.dom.childNodes},calculate:function(G){var E=this,C,B,A,H,D,F;if(!G.getDomProp("containerChildrenSizeDone")){E.done=false}else{C=G.innerCtContext;B=G.widthModel.shrinkWrap;A=G.heightModel.shrinkWrap;H=A||B;D=C.el.dom;F=H&&C.getPaddingInfo();if(B){G.setContentWidth(D.offsetWidth+F.width,true)}if(A){G.setContentHeight(D.offsetHeight+F.height,true)}}},doRenderColumn:function(D,K,F){var H=K.$layout,C=H.owner,E=K.columnCount,G=C.items.items,B=G.length,L,A,I,J,M;if(C.vertical){I=Math.ceil(B/E);A=F*I;B=Math.min(B,A+I);J=1}else{A=F;J=E}for(;A<B;A+=J){L=G[A];H.configureItem(L);M=L.getRenderTree();Ext.DomHelper.generateMarkup(M,D)}},getColumnCount:function(){var B=this,A=B.owner,C=A.columns;if(B.columnsArray){return C.length}if(Ext.isNumber(C)){return C}return A.items.length},getItemSizePolicy:function(A){return this.autoSizePolicy},getRenderData:function(){var I=this,F=I.callParent(),B=I.owner,G,D=I.getColumnCount(),A,C,H,J=I.autoFlex,E=0,K=0;if(I.columnsArray){for(G=0;G<D;G++){A=I.owner.columns[G];if(A<1){E+=A;K++}}}F.colCls=B.groupCls;F.columnCount=D;F.columns=[];for(G=0;G<D;G++){C=(F.columns[G]={});if(I.columnsArray){A=I.owner.columns[G];if(A<1){H=((A/E)*100)+"%"}else{H=A+"px"}C.style="width:"+H}else{C.style="width:"+(1/D*100)+"%";K++}}F.tableStyle=!K?"table-layout:fixed;":(K<D)?"table-layout:fixed;width:100%":(J)?"table-layout:auto;width:100%":"table-layout:auto;";return F},initLayout:function(){var B=this,A=B.owner;B.columnsArray=Ext.isArray(A.columns);B.autoColumns=!A.columns||A.columns==="auto";B.vertical=A.vertical;B.callParent()},isValidParent:Ext.returnTrue,setupRenderTpl:function(A){this.callParent(arguments);A.renderColumn=this.doRenderColumn},renderChildren:function(){var A=this,B=A.owner.items.generation;if(A.lastOwnerItemsGeneration!==B){A.lastOwnerItemsGeneration=B;A.renderItems(A.getLayoutItems())}},renderItems:function(E){var F=this,A=E.length,B,I,H,D,G,C;if(A){Ext.suspendLayouts();if(F.autoColumns){F.addMissingColumns(A)}D=F.columnNodes.length;H=Math.ceil(A/D);for(B=0;B<A;B++){I=E[B];G=F.getRenderRowIndex(B,H,D);C=F.getRenderColumnIndex(B,H,D);if(!I.rendered){F.renderItem(I,G,C)}else{if(!F.isItemAtPosition(I,G,C)){F.moveItem(I,G,C)}}}if(F.autoColumns){F.removeExceedingColumns(A)}Ext.resumeLayouts(true)}},isItemAtPosition:function(B,C,A){return B.el.dom===this.getNodeAt(C,A)},getRenderColumnIndex:function(B,A,C){if(this.vertical){return Math.floor(B/A)}else{return B%C}},getRenderRowIndex:function(B,A,D){var C=this;if(C.vertical){return B%A}else{return Math.floor(B/D)}},getNodeAt:function(B,A){return this.columnNodes[A].childNodes[B]},addMissingColumns:function(A){var F=this,C=F.columnNodes.length,E,G,B,D;if(C<A){E=A-C;G=F.rowEl;B=F.owner.groupCls;for(D=0;D<E;D++){G.createChild({cls:B,tag:"td",vAlign:"top",role:"presentation"})}}},removeExceedingColumns:function(A){var E=this,B=E.columnNodes.length,D,F,C;if(B>A){D=B-A;F=E.rowEl;for(C=0;C<D;C++){F.last().destroy()}}},renderItem:function(C,D,A){var B=this;B.configureItem(C);C.render(Ext.get(B.columnNodes[A]),D)},moveItem:function(D,F,B){var C=this,A=C.columnNodes[B],E=A.childNodes[F];A.insertBefore(D.el.dom,E||null)}})