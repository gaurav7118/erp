Ext.define("Ext.layout.container.Container",{extend:"Ext.layout.Layout",alias:"layout.container",alternateClassName:"Ext.layout.ContainerLayout",mixins:["Ext.util.ElementContainer"],requires:["Ext.XTemplate"],type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,activeItemCount:0,renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:true,usesContainerWidth:true,usesHeight:true,usesWidth:true,constructor:function(){this.callParent(arguments);this.mixins.elementCt.constructor.call(this)},destroy:function(){this.callParent();this.mixins.elementCt.destroy.call(this)},beginLayout:function(A){this.callParent(arguments);A.targetContext=A.paddingContext=A.getEl("getTarget",this);this.cacheChildItems(A)},beginLayoutCycle:function(C,A){var B=this;B.callParent(arguments);if(A){if(B.usesContainerHeight){++C.consumersContainerHeight}if(B.usesContainerWidth){++C.consumersContainerWidth}}},cacheChildItems:function(F){var E=this,C,G,A,D,B;if(E.needsItemSize||E.setsItemSize){C=F.context;G=F.childItems=[];A=F.visibleItems=E.getVisibleItems();D=A.length;for(B=0;B<D;++B){G.push(C.getCmp(A[B]))}}},cacheElements:function(){var A=this.owner;this.attachChildEls(A.el,A)},calculate:function(C){var B=C.props,A=C.el;if(C.widthModel.shrinkWrap&&isNaN(B.width)){C.setContentWidth(A.getWidth())}if(C.heightModel.shrinkWrap&&isNaN(B.height)){C.setContentHeight(A.getHeight())}},configureItem:function(D){var C=this,E=C.itemCls,B=C.owner.itemCls,A,F;D.ownerLayout=C;if(E){if(typeof E==="string"){F=[E]}else{F=E;A=!!F}}if(B){if(A){F=Ext.Array.clone(F)}F=Ext.Array.push(F||[],B)}if(F){D.addCls(F)}},doRenderBody:function(A,B){this.renderItems(A,B);this.renderContent(A,B)},doRenderContainer:function(B,E){var C=E.$comp.layout,A=C.getRenderTpl(),D=C.getRenderData();A.applyOut(D,B)},doRenderItems:function(B,D){var C=D.$layout,A=C.getRenderTree();if(A){Ext.DomHelper.generateMarkup(A,B)}},finishRender:function(){var B=this,C,A;B.callParent();B.cacheElements();C=B.getRenderTarget();A=B.getLayoutItems();B.finishRenderItems(C,A)},notifyOwner:function(){if(!this._hasTargetWarning&&this.targetCls&&!this.getTarget().hasCls(this.targetCls)){this._hasTargetWarning=true;Ext.log.warn("targetCls is missing. This may mean that getTargetEl() is being overridden but not applyTargetCls(). "+this.owner.id)}this.owner.afterLayout(this)},getContainerSize:function(B,F){var C=B.targetContext,E=C.getFrameInfo(),I=B.paddingContext.getPaddingInfo(),H=0,J=0,D,G,A,K;if(!B.widthModel.shrinkWrap){++J;A=F?C.getDomProp("width"):C.getProp("width");D=(typeof A==="number");if(D){++H;A-=E.width+I.width;if(A<0){A=0}}}if(!B.heightModel.shrinkWrap){++J;K=F?C.getDomProp("height"):C.getProp("height");G=(typeof K==="number");if(G){++H;K-=E.height+I.height;if(K<0){K=0}}}return{width:A,height:K,needed:J,got:H,gotAll:H===J,gotWidth:D,gotHeight:G}},getPositionOffset:function(A){if(!this.createsInnerCt){var B=this.owner.itemNodeOffset;if(B){A+=B}}return A},getLayoutItems:function(){var A=this.owner,B=A&&A.items;return(B&&B.items)||[]},getRenderData:function(){var A=this.owner;return{$comp:A,$layout:this,ownerId:A.id}},getRenderedItems:function(){var E=this,G=E.getRenderTarget(),A=E.getLayoutItems(),D=A.length,F=[],B,C;for(B=0;B<D;B++){C=A[B];if(C.rendered&&E.isValidParent(C,G,B)){F.push(C)}}return F},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var A=this,B=Ext.XTemplate.getTpl(this,"renderTpl");if(!B.renderContent){A.owner.setupRenderTpl(B)}return B},getRenderTree:function(){var A,C=this.owner.items,D,B={};do{D=C.generation;A=this.getItemsRenderTree(this.getLayoutItems(),B)}while(C.generation!==D);return A},renderChildren:function(){var B=this,C=B.owner.items,E=B.getRenderTarget(),D,A;do{D=C.generation;A=B.getLayoutItems();B.renderItems(A,E)}while(C.generation!==D)},getScrollbarsNeeded:function(C,H,B,G){var A=Ext.getScrollbarSize(),E=typeof C==="number",I=typeof H==="number",F=0,D=0;if(!A.width){return 0}if(I&&H<G){D=2;C-=A.width}if(E&&C<B){F=1;if(!D&&I){H-=A.height;if(H<G){D=2}}}return D+F},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var F=this.getRenderTarget(),B=this.getLayoutItems(),E=B.length,A=[],C,D;for(C=0;C<E;C++){D=B[C];if(D.rendered&&this.isValidParent(D,F,C)&&D.hidden!==true&&!D.floated){A.push(D)}}return A},getMoveAfterIndex:function(A){return this.owner.items.indexOf(A)+1},moveItemBefore:function(D,E){var A=this.owner,B=A.items,C=B.indexOf(D),F;if(D===E){return D}if(E){F=B.indexOf(E);if(C>-1&&C<F){--F}}else{F=B.length}return A.insert(F,D)},setupRenderTpl:function(A){A.renderBody=this.doRenderBody;A.renderContainer=this.doRenderContainer;A.renderItems=this.doRenderItems},getContentTarget:function(){return this.owner.getDefaultContentTarget()},onAdd:function(A){if(!A.liquidLayout){++this.activeItemCount}this.callParent([A])},onRemove:function(B,A){if(!B.liquidLayout){--this.activeItemCount}this.callParent([B,A])}})