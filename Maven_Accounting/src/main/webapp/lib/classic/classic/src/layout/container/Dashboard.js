Ext.define("Ext.layout.container.Dashboard",{extend:"Ext.layout.container.Column",alias:"layout.dashboard",requires:["Ext.layout.container.ColumnSplitter"],type:"dashboard",firstColumnCls:Ext.baseCSSPrefix+"dashboard-column-first",lastColumnCls:Ext.baseCSSPrefix+"dashboard-column-last",getSplitterConfig:function(){return{xtype:"columnsplitter"}},getColumns:function(A){var B=Ext.Array;return B.filter(B.from(A),function(C){return C.target&&C.target.isSplitter!==true})},beginLayout:function(E){var L=this;L.callParent([E]);var I=E.childItems,O=(E.rows=[]),D=I.length,J=2,G=0,P=0,N=L.owner.getMaxColumns(),C,H,F,M,A,K,B;for(H=0;H<D;++H){K=(C=I[H]).target;A=K&&K.isSplitter;G+=(A?0:1);B=A?0:K.columnWidth||1;if(J+B>1||(N&&(G>N))){if(F){F.orphan=1;F.el.setHeight(0)}J=0;G=1;if(O.length){P=O.length-1;L.syncFirstLast(L.getColumns(O[P].items))}O.push(M={index:O.length,items:[],maxHeight:0})}J+=B;M.items.push(C);C.row=M;K.rowIndex=M.index;if(A){C.el.setHeight(1)}F=C}if(O.length){L.syncFirstLast(L.getColumns(O[O.length-1].items))}},beforeLayoutCycle:function(C){var B=this,A=B.owner.items;if(B.splitterGen!==A.generation){B.syncSplitters();B.splitterGen=A.generation}B.callParent(arguments)},finishedLayout:function(E){var B=E.childItems,A=B.length,D,H,C,F,G;this.callParent([E]);for(C=0;C<A;C+=2){F=(H=B[C]).target;D=F.lastBox;G=H.row;G.maxHeight=Math.max(G.maxHeight,D.height);F.width=D.width}for(C=1;C<A;C+=2){F=(H=B[C]).target;if(!H.orphan){F.el.setHeight(H.row.maxHeight)}}},syncSplitters:function(){var G=this,A=G.owner,B=A.items.items,C=B.length,E=true,D=false,F,H;while(C-->0){F=B[C];if(D){if(F.isSplitter){D=false}else{if(E){E=false;A.suspendLayouts()}H=A.add(C+1,G.getSplitterConfig())}}else{if(F.isSplitter){if(E){E=false;A.suspendLayouts()}A.remove(F)}else{D=true}}}while(B.length&&(F=B[0]).isSplitter){if(E){E=false;A.suspendLayouts()}A.remove(F)}if(!E){A.resumeLayouts()}},syncFirstLast:function(E){var F=this,B=F.firstColumnCls,H=F.lastColumnCls,D,A=[B,H],C,I,G;E=Ext.Array.from(E);D=E.length;for(C=0;C<D;++C){I=E[C].target;G=(C===D-1);if(!C){if(G){I.addCls(A)}else{I.addCls(B);I.removeCls(H)}}else{if(G){I.addCls(H);I.removeCls(B)}else{I.removeCls(A)}}}}})