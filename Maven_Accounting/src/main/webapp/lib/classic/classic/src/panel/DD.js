Ext.define("Ext.panel.DD",{extend:"Ext.dd.DragSource",requires:["Ext.panel.Proxy"],constructor:function(B,A){var C=this;C.panel=B;C.dragData={panel:B};C.panelProxy=new Ext.panel.Proxy(B,A);C.proxy=C.panelProxy.proxy;C.callParent([B.el,A]);C.setupEl(B)},setupEl:function(A){var C=this,D=A.header,B=A.body;if(D){C.setHandleElId(D.id);B=D.el}if(B){B.setStyle("cursor","move");C.scroll=false}else{A.on("boxready",C.setupEl,C,{single:true})}},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(A,B){this.panelProxy.show()},b4MouseDown:function(C){var B=C.getXY(),A=B[0],D=B[1];this.autoOffset(A,D)},onInitDrag:function(A,B){this.onStartDrag(A,B);return true},createFrame:Ext.emptyFn,getDragEl:function(B){var A=this.panelProxy.ghost;if(A){return A.el.dom}},endDrag:function(A){this.panelProxy.hide();this.panel.saveState()},autoOffset:function(A,B){A-=this.startPageX;B-=this.startPageY;this.setDelta(A,B)},onInvalidDrop:function(C,B,D){var A=this;if(A.beforeInvalidDrop(C,B,D)!==false){if(A.cachedTarget){if(A.cachedTarget.isNotifyTarget){A.cachedTarget.notifyOut(A,B,A.dragData)}A.cacheTarget=null}if(A.afterInvalidDrop){A.afterInvalidDrop(B,D)}}}})