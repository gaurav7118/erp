Ext.define("Ext.picker.Color",{extend:"Ext.Component",requires:"Ext.XTemplate",alias:"widget.colorpicker",alternateClassName:"Ext.ColorPalette",focusable:true,componentCls:Ext.baseCSSPrefix+"color-picker",selectedCls:Ext.baseCSSPrefix+"color-picker-selected",itemCls:Ext.baseCSSPrefix+"color-picker-item",value:null,clickEvent:"click",allowReselect:false,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" role="button" class="color-{.} {parent.itemCls}" hidefocus="on">','<span class="{parent.itemCls}-inner" style="background:#{.}">&#160;</span>',"</a>","</tpl>"],initComponent:function(){var A=this;A.callParent(arguments);if(A.handler){A.on("select",A.handler,A.scope,true)}},initRenderData:function(){var A=this;return Ext.apply(A.callParent(),{itemCls:A.itemCls,colors:A.colors})},onRender:function(){var B=this,A=B.clickEvent;B.callParent(arguments);B.mon(B.el,A,B.handleClick,B,{delegate:"a"});if(A!=="click"){B.mon(B.el,"click",Ext.emptyFn,B,{delegate:"a",stopEvent:true})}},afterRender:function(){var A=this,B;A.callParent(arguments);if(A.value){B=A.value;A.value=null;A.select(B,true)}},handleClick:function(C){var B=this,A;C.stopEvent();if(!B.disabled){A=C.currentTarget.className.match(B.colorRe)[1];B.select(A.toUpperCase())}},select:function(B,A){var E=this,G=E.selectedCls,F=E.value,C,D;B=B.replace("#","");if(!E.rendered){E.value=B;return }if(B!==F||E.allowReselect){C=E.el;if(E.value){D=C.down("a.color-"+F,true);Ext.fly(D).removeCls(G)}D=C.down("a.color-"+B,true);Ext.fly(D).addCls(G);E.value=B;if(A!==true){E.fireEvent("select",E,B)}}},clear:function(){var B=this,C=B.value,A;if(C&&B.rendered){A=B.el.down("a.color-"+C,true);Ext.fly(A).removeCls(B.selectedCls)}B.value=null},getValue:function(){return this.value||null}})