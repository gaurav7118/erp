Ext.define("Ext.resizer.Resizer",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.resizer.ResizeTracker","Ext.Component"],alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",overCls:Ext.baseCSSPrefix+"resizable-handle-over",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",wrappedCls:Ext.baseCSSPrefix+"resizable-wrapped",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:true,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:10000,maxWidth:10000,pinned:false,preserveRatio:false,transparent:false,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},ariaRole:"presentation",constructor:function(B){var J=this,O=J.handles,I=Ext.dom.Element.unselectableCls,M=[],N,C,L,Q,G,E,K,A,F,D,P,H;if(Ext.isString(B)||Ext.isElement(B)||B.dom){N=B;B=arguments[1]||{};B.target=N}J.mixins.observable.constructor.call(J,B);N=J.target;if(N){if(N.isComponent){N.addClsWithUI("resizable");if(N.minWidth){J.minWidth=N.minWidth}if(N.minHeight){J.minHeight=N.minHeight}if(N.maxWidth){J.maxWidth=N.maxWidth}if(N.maxHeight){J.maxHeight=N.maxHeight}if(N.floating){if(!J.hasOwnProperty("handles")){J.handles="n ne e se s sw w nw"}}J.el=N.getEl()}else{N=J.el=J.target=Ext.get(N)}}else{N=J.target=J.el=Ext.get(J.el)}J.el.addCls(Ext.Component.prototype.borderBoxCls);if(Ext.isNumber(J.width)){J.width=Ext.Number.constrain(J.width,J.minWidth,J.maxWidth)}if(Ext.isNumber(J.height)){J.height=Ext.Number.constrain(J.height,J.minHeight,J.maxHeight)}if(J.width!==null||J.height!==null){J.target.setSize(J.width,J.height)}Q=J.el.dom.tagName.toUpperCase();if(Q==="TEXTAREA"||Q==="IMG"||Q==="TABLE"){J.originalTarget=J.target;D=N.isComponent?N.getEl():N;J.el.addCls(J.wrappedCls);J.target=J.el=J.el.wrap({role:"presentation",cls:J.wrapCls,id:J.el.id+"-rzwrap",style:D.getStyle(["margin-top","margin-bottom"])});P=D.getPositioning();J.el.setPositioning(P);D.clearPositioning();F=D.getBox();if(P.position!=="absolute"){F.x=0;F.y=0}J.el.setBox(F);D.setStyle("position","absolute");J.isTargetWrapped=true}J.el.position();if(J.pinned){J.el.addCls(J.pinnedCls)}J.resizeTracker=new Ext.resizer.ResizeTracker({disabled:J.disabled,target:N,el:J.el,constrainTo:J.constrainTo,handleCls:J.handleCls,overCls:J.overCls,throttle:J.throttle,proxy:J.originalTarget?J.el:null,dynamic:J.originalTarget?true:J.dynamic,originalTarget:J.originalTarget,delegate:"."+J.handleCls,preserveRatio:J.preserveRatio,heightIncrement:J.heightIncrement,widthIncrement:J.widthIncrement,minHeight:J.minHeight,maxHeight:J.maxHeight,minWidth:J.minWidth,maxWidth:J.maxWidth});J.resizeTracker.on({mousedown:J.onBeforeResize,drag:J.onResize,dragend:J.onResizeEnd,scope:J});if(J.handles==="all"){J.handles="n s e w ne nw se sw"}O=J.handles=J.handles.split(J.delimiterRe);L=J.possiblePositions;G=O.length;C=J.handleCls+" "+J.handleCls+"-{0}";if(J.target.isComponent){H=J.target.baseCls;C+=" "+H+"-handle "+H+"-handle-{0}";if(Ext.supports.CSS3BorderRadius){C+=" "+H+"-handle-{0}-br"}}for(E=0;E<G;E++){if(O[E]&&L[O[E]]){K=L[O[E]];M.push('<div id="',J.el.id,"-",K,'-handle" class="',Ext.String.format(C,K)," ",I,'" unselectable="on" role="presentation"',"></div>")}}Ext.DomHelper.append(J.el,M.join(""));M.length=0;for(E=0;E<G;E++){if(O[E]&&L[O[E]]){K=L[O[E]];A=J[K]=J.el.getById(J.el.id+"-"+K+"-handle");M.push(A);A.region=K;if(J.transparent){A.setOpacity(0)}}}J.resizeTracker.handleEls=M},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(A,B){return this.fireResizeEvent("beforeresize",A,B)},onResize:function(A,B){return this.fireResizeEvent("resizedrag",A,B)},onResizeEnd:function(A,B){return this.fireResizeEvent("resize",A,B)},fireResizeEvent:function(A,D,E){var C=this,B;if(C.hasListeners[A]){B=C.el.getBox();return C.fireEvent(A,C,B.width,B.height,E)}},resizeTo:function(B,A){var C=this;C.target.setSize(B,A);C.fireEvent("resize",C,B,A,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var E=this,D,C=E.handles,A=C.length,B=E.possiblePositions,F;E.resizeTracker.destroy();if(E.isTargetWrapped){E.target.destroy()}for(D=0;D<A;D++){if((F=E[B[C[D]]])){F.destroy()}}E.callParent()}})