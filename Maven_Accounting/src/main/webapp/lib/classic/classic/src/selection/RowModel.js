Ext.define("Ext.selection.RowModel",{extend:"Ext.selection.DataViewModel",alias:"selection.rowmodel",requires:["Ext.grid.CellContext"],enableKeyNav:true,isRowModel:true,deselectOnContainerClick:false,onUpdate:function(B){var D=this,A=D.view,C;if(A&&D.isSelected(B)){C=A.indexOf(B);A.onRowSelect(C);if(B===D.lastFocused){A.onRowFocus(C,true)}}},onSelectChange:function(F,B,J,A){var H=this,K=H.views||[H.view],C=K.length,D=H.store.indexOf(F),G=B?"select":"deselect",E,I;if((J||H.fireEvent("before"+G,H,F,D))!==false&&A()!==false){for(E=0;E<C;E++){I=K[E];D=I.indexOf(F);if(I.indexOf(F)!==-1){if(B){I.onRowSelect(D,J)}else{I.onRowDeselect(D,J)}}}if(!J){H.fireEvent(G,H,F,D)}}},getCurrentPosition:function(){var A=this.selected.getAt(0);if(A){return new Ext.grid.CellContext(this.view).setPosition(this.store.indexOf(A),0)}},selectByPosition:function(A,B){if(!A.isCellContext){A=new Ext.grid.CellContext(this.view).setPosition(A.row,A.column)}this.select(A.record,B)},selectNext:function(G,C){var F=this,B=F.store,E=F.getSelection(),A=E[E.length-1],D=F.view.indexOf(A)+1,H;if(D===B.getCount()||D===0){H=false}else{F.doSelect(D,G,C);H=true}return H},selectPrevious:function(F,B){var E=this,D=E.getSelection(),A=D[0],C=E.view.indexOf(A)-1,G;if(C<0){G=false}else{E.doSelect(C,F,B);G=true}return G},isRowSelected:function(A){return this.isSelected(A)},isCellSelected:function(B,A,C){return this.isSelected(A)},vetoSelection:function(C){var B=this.view.getNavigationModel(),A=C.getKey(),D=A===C.RIGHT||A===C.LEFT;return(D&&B.previousRecord===B.record)||this.callParent([C])}})