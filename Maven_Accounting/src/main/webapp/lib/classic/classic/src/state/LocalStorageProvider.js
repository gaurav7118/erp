Ext.define("Ext.state.LocalStorageProvider",{extend:"Ext.state.Provider",requires:["Ext.util.LocalStorage"],alias:"state.localstorage",constructor:function(){var A=this;A.callParent(arguments);A.store=A.getStorageObject();if(A.store){A.state=A.readLocalStorage()}else{A.state={}}},readLocalStorage:function(){var A=this.store,E={},D=A.getKeys(),C=D.length,B;while(C--){B=D[C];E[B]=this.decodeValue(A.getItem(B))}return E},set:function(A,C){var B=this;B.clear(A);if(C!=null){B.store.setItem(A,B.encodeValue(C));B.callParent(arguments)}},clear:function(A){this.store.removeItem(A);this.callParent(arguments)},getStorageObject:function(){var A=this.prefix,C=A,B=C.length-1;if(C.charAt(B)==="-"){C=C.substring(0,B)}return new Ext.util.LocalStorage({id:C,prefix:A})}})