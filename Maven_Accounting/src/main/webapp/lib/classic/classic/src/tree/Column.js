Ext.define("Ext.tree.Column",{extend:"Ext.grid.column.Column",alias:"widget.treecolumn",tdCls:Ext.baseCSSPrefix+"grid-cell-treecolumn",autoLock:true,lockable:false,draggable:false,hideable:false,iconCls:Ext.baseCSSPrefix+"tree-icon",checkboxCls:Ext.baseCSSPrefix+"tree-checkbox",elbowCls:Ext.baseCSSPrefix+"tree-elbow",expanderCls:Ext.baseCSSPrefix+"tree-expander",textCls:Ext.baseCSSPrefix+"tree-node-text",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-treecolumn",customIconCls:Ext.baseCSSPrefix+"tree-icon-custom",isTreeColumn:true,cellTpl:['<tpl for="lines">','<div class="{parent.childCls} {parent.elbowCls}-img ','{parent.elbowCls}-<tpl if=".">line<tpl else>empty</tpl>" role="presentation"></div>',"</tpl>",'<div class="{childCls} {elbowCls}-img {elbowCls}','<tpl if="isLast">-end</tpl><tpl if="expandable">-plus {expanderCls}</tpl>" role="presentation"></div>','<tpl if="checked !== null">','<div role="button" {ariaCellCheckboxAttr}',' class="{childCls} {checkboxCls}<tpl if="checked"> {checkboxCls}-checked</tpl>"></div>',"</tpl>",'<tpl if="icon"><img src="{blankUrl}"<tpl else><div</tpl>',' role="presentation" class="{childCls} {baseIconCls} {customIconCls} ','{baseIconCls}-<tpl if="leaf">leaf<tpl else><tpl if="expanded">parent-expanded<tpl else>parent</tpl></tpl> {iconCls}" ','<tpl if="icon">style="background-image:url({icon})"/><tpl else>></div></tpl>','<tpl if="href">','<a href="{href}" role="link" target="{hrefTarget}" class="{textCls} {childCls}">{value}</a>',"<tpl else>",'<span class="{textCls} {childCls}">{value}</span>',"</tpl>"],uiFields:{checked:1,icon:1,iconCls:1},rowFields:{expanded:1,loaded:1,expandable:1,leaf:1,loading:1,qtip:1,qtitle:1,cls:1},initComponent:function(){var A=this;A.rendererScope=A.scope;A.setupRenderer();A.innerRenderer=A.renderer;A.renderer=A.treeRenderer;A.callParent();A.scope=A;A.hasCustomRenderer=A.innerRenderer&&A.innerRenderer.length>1},treeRenderer:function(H,A,E,B,C,I,G){var F=this,J=E.get("cls"),D;if(A&&J){A.tdCls+=" "+J}D=F.initTemplateRendererData(H,A,E,B,C,I,G);return F.getTpl("cellTpl").apply(D)},initTemplateRendererData:function(K,A,F,B,E,L,I){var H=this,C=H.innerRenderer,D=F.data,J=F.parentNode,M=I.rootVisible,N=[],G;while(J&&(M||J.data.depth>0)){G=J.data;N[M?G.depth:G.depth-1]=G.isLast?0:1;J=J.parentNode}return{record:F,baseIconCls:H.iconCls,customIconCls:(D.icon||D.iconCls)?H.customIconCls:"",iconCls:D.iconCls,icon:D.icon,checkboxCls:H.checkboxCls,checked:D.checked,elbowCls:H.elbowCls,expanderCls:H.expanderCls,textCls:H.textCls,leaf:D.leaf,expandable:F.isExpandable(),expanded:D.expanded,isLast:F.isLastVisible(),blankUrl:Ext.BLANK_IMAGE_URL,href:D.href,hrefTarget:D.hrefTarget,lines:N,metaData:A,childCls:H.getChildCls?H.getChildCls()+" ":"",value:C?C.apply(H.rendererScope,arguments):K}},shouldUpdateCell:function(B,D){var E=this,C=0,A,F;if(D){A=D.length;for(;C<A;++C){F=D[C];if(E.rowFields[F]){return 1}if(E.uiFields[F]){return 2}}}return E.callParent([B,D])}})