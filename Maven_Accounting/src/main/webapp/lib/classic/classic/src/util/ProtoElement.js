Ext.define("Ext.util.ProtoElement",function(){var B=Ext.String.splitWords,A=Ext.Array.toMap;return{isProtoEl:true,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:false,constructor:function(D){var F=this,C,E;if(D){Ext.apply(F,D);C=F.cls;E=F.style;delete F.cls}F.classList=C?B(C):[];F.classMap=C?A(F.classList):{};if(E){if(typeof E==="string"){F.style=Ext.Element.parseStyles(E)}else{if(Ext.isFunction(E)){F.styleFn=E;delete F.style}else{F.style=Ext.apply({},E)}}}},flush:function(){this.flushClassList=[];this.removedClasses={};delete this.style;delete this.unselectableAttr},addCls:function(K){if(!K){return this}var I=this,J=(typeof K==="string")?B(K):K,D=J.length,G=I.classList,C=I.classMap,E=I.flushClassList,F=0,H;for(;F<D;++F){H=J[F];if(!C[H]){C[H]=true;G.push(H);if(E){E.push(H);delete I.removedClasses[H]}}}return I},hasCls:function(C){return C in this.classMap},removeCls:function(L){var K=this,I=K.classList,E=(K.classList=[]),G=A(B(L)),D=I.length,C=K.classMap,H=K.removedClasses,F,J;for(F=0;F<D;++F){J=I[F];if(G[J]){if(H){if(C[J]){H[J]=true;Ext.Array.remove(K.flushClassList,J)}}delete C[J]}else{E.push(J)}}return K},setStyle:function(F,E){var D=this,C=D.style||(D.style={});if(typeof F==="string"){if(arguments.length===1){D.setStyle(Ext.Element.parseStyles(F))}else{C[F]=E}}else{Ext.apply(C,F)}return D},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls);if(Ext.isOpera){this.unselectableAttr=true}},writeTo:function(G){var E=this,F=E.flushClassList||E.classList,D=E.removedClasses,C;if(E.styleFn){C=Ext.apply({},E.styleFn());Ext.apply(C,E.style)}else{C=E.style}G[E.clsProp]=F.join(" ");if(C){G[E.styleProp]=E.styleIsText?Ext.DomHelper.generateStyles(C,null,true):C}if(D){D=Ext.Object.getKeys(D);if(D.length){G[E.removedProp]=D.join(" ")}}if(E.unselectableAttr){G.unselectable="on"}return G}}})