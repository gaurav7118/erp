Ext.define("Ext.view.View",{extend:"Ext.view.AbstractView",alternateClassName:"Ext.DataView",alias:"widget.dataview",inputTagRe:/^textarea$|^input$/i,keyEventRe:/^key/,inheritableStatics:{EventMap:{longpress:"LongPress",mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",keyup:"KeyUp",keypress:"KeyPress",focus:"Focus"},TouchEventMap:{touchstart:"mousedown",touchend:"mouseup",tap:"click",doubletap:"dblclick"}},afterRender:function(){var A=this;A.callParent();A.mon(A.el,{scope:A,click:A.handleEvent,longpress:A.handleEvent,mousedown:A.handleEvent,mouseup:A.handleEvent,dblclick:A.handleEvent,contextmenu:A.handleEvent,keydown:A.handleEvent,keyup:A.handleEvent,keypress:A.handleEvent,mouseover:A.handleMouseOver,mouseout:A.handleMouseOut})},getTargetSelector:function(){return this.dataRowSelector||this.itemSelector},handleMouseOver:function(D){var C=this,A=C.getTargetSelector(),B=D.getTarget(A);if(!C.destroyed){if(B){if(C.mouseOverItem!==B&&C.el.contains(B)){C.mouseOverItem=D.item=B;D.newType="mouseenter";C.handleEvent(D)}}else{C.handleEvent(D)}}},handleMouseOut:function(F){var D=this,B=D.getTargetSelector(),C=F.getTarget(B),E=F.getRelatedTarget(B),A;if((C===E)&&!(C===null&&E===null)){return }if(!D.destroyed){if(C&&(A=D.self.getBoundView(C))){F.item=C;F.newType="mouseleave";A.handleEvent(F);A.mouseOverItem=null}else{D.handleEvent(F)}}},handleEvent:function(C){var B=this,A=B.keyEventRe.test(C.type);C.view=B;C.item=C.getTarget(B.itemSelector);if(C.item){C.record=B.getRecord(C.item)}if(B.processUIEvent(C)!==false){B.processSpecialEvent(C)}if(A&&!Ext.fly(C.target).isInputField()){if(C.getKey()===C.SPACE||C.isNavKeyPress(true)){C.preventDefault()}}C.view=null},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(E){if(!Ext.getBody().isAncestor(E.target)){return }var H=this,I=E.item,J=H.self,A=J.EventMap,F=J.TouchEventMap,D,C=E.record,G=E.type,B=G;if(E.newType){B=E.newType}if(I){B=F[B]||B;D=E.recordIndex=H.indexInStore?H.indexInStore(C):H.indexOf(I);if(!C||H.processItemEvent(C,I,D,E)===false){return false}if((H["onBeforeItem"+A[B]](C,I,D,E)===false)||(H.fireEvent("beforeitem"+B,H,C,I,D,E)===false)||(H["onItem"+A[B]](C,I,D,E)===false)){return false}H.fireEvent("item"+B,H,C,I,D,E)}else{G=F[G]||G;if((H.processContainerEvent(E)===false)||(H["onBeforeContainer"+A[G]](E)===false)||(H.fireEvent("beforecontainer"+G,H,E)===false)||(H["onContainer"+A[G]](E)===false)){return false}H.fireEvent("container"+G,H,E)}return true},onItemMouseEnter:function(A,C,B,D){if(this.trackOver){this.highlightItem(C)}},onItemMouseLeave:function(A,C,B,D){if(this.trackOver){this.clearHighlight()}},onItemMouseDown:Ext.emptyFn,onItemLongPress:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onItemKeyUp:Ext.emptyFn,onItemKeyPress:Ext.emptyFn,onBeforeItemLongPress:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onBeforeItemKeyUp:Ext.emptyFn,onBeforeItemKeyPress:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerLongPress:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onContainerKeyUp:Ext.emptyFn,onContainerKeyPress:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerLongPress:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,onBeforeContainerKeyUp:Ext.emptyFn,onBeforeContainerKeyPress:Ext.emptyFn,setHighlightedItem:function(C){var B=this,A=B.highlightedItem,D=B.overItemCls;if(A!==C){if(A){Ext.fly(A).removeCls(D);if(Ext.isIE8){B.repaintBorder(A);B.repaintBorder(A.nextSibling)}if(B.hasListeners.unhighlightitem){B.fireEvent("unhighlightitem",B,A)}}B.highlightedItem=C;if(C){Ext.fly(C).addCls(B.overItemCls);if(Ext.isIE8){B.repaintBorder(C.nextSibling)}if(B.hasListeners.highlightitem){B.fireEvent("highlightitem",B,C)}}}},highlightItem:function(A){this.setHighlightedItem(A)},clearHighlight:function(){this.setHighlightedItem(undefined)},handleUpdate:function(B,A){var F=this,E,C,D;if(F.viewReady){E=F.getNode(A);C=F.callParent(arguments);D=F.highlightedItem;if(D&&D===E){delete F.highlightedItem;if(C){F.highlightItem(C)}}}},refresh:function(){this.clearHighlight();this.callParent(arguments)},focusNode:function(H){var F=this,E=Ext.fly(F.getNode(H)),D=F.el,A=0,B=0,G=D.getRegion(),C;G.bottom=G.top+D.dom.clientHeight;G.right=G.left+D.dom.clientWidth;if(E){C=E.getRegion();if(C.top<G.top){A=C.top-G.top}else{if(C.bottom>G.bottom){A=C.bottom-G.bottom}}if(C.left<G.left){B=C.left-G.left}else{if(C.right>G.right){B=C.right-G.right}}if(B||A){F.scrollBy(B,A,false)}E.set({tabIndex:-1});E.focus()}},privates:{repaintBorder:function(B){var A=this.getNode(B);if(A){A.className=A.className}}}})