describe("Ext.layout.component.field.HtmlEditor",function(){var A;afterEach(function(){A=Ext.destroy(A)});it("should layout form with shrinkwrap height that contains an auto height html editor with toolbar overflow trigger",function(){var C=Ext.widget({renderTo:document.body,xtype:"form",width:200,bodyPadding:10,items:[{xtype:"htmleditor",enableFont:false,anchor:"100%"}]}),B={"el":{"xywh":"0 0 200 206"},"body":{"xywh":"0 0 200 206"},"items":{"0":{"el":{"xywh":"11 11 178 179"},"containerEl":{"xywh":"11 11 178 179"},"bodyEl":{"xywh":"11 11 178 179"},"iframeEl":{"xywh":"12 39 176 150"},"inputEl":{"xywh":"12 39 176 150"}}}};expect(C).toHaveLayout(B);C.updateLayout();expect(C).toHaveLayout(B);C.destroy()});it("should provide a natural height when configured without one",function(){A=new Ext.form.field.HtmlEditor({renderTo:Ext.getBody()});expect(A.iframeEl.getHeight()).toBe(A.componentLayout.naturalHeight)});describe("stretching iframe/textarea",function(){function B(){return A.getToolbar().getHeight()+A.inputCmp.getEl().getBorderWidth("tb")}it("should stretch the iframe height when shrink wrapping height",function(){A=new Ext.form.field.HtmlEditor({renderTo:Ext.getBody()});expect(A.iframeEl.getHeight()).toBe(A.componentLayout.naturalHeight)});it("should stretch the iframe height when using a configured height",function(){A=new Ext.form.field.HtmlEditor({renderTo:Ext.getBody(),height:800});expect(A.iframeEl.getHeight()).toBe(800-B())});it("should stretch the iframe correctly when changing from shrinkWrap to a configured height",function(){A=new Ext.form.field.HtmlEditor({renderTo:Ext.getBody()});expect(A.iframeEl.getHeight()).toBe(A.componentLayout.naturalHeight);A.setHeight(800);expect(A.iframeEl.getHeight()).toBe(800-B())})})})