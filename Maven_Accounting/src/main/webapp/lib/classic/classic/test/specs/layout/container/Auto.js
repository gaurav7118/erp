describe("Ext.layout.container.Auto",function(){function A(C){var B="Ext.layout.container.Auto";if(C){B+=" (shrinkWrap:true)"}describe(B,function(){var J="Lorem ipsum dolor sit amet",G="Lorem ipsum",H="supercalifragilisticexpialidocious",F=Ext.getScrollbarSize(),E=F.width,I=F.height,D;function K(N,L){var O=Ext.apply({xtype:"component",style:"margin: 4px; line-height: 20px;"},L),M=Ext.apply({renderTo:document.body,xtype:"panel",shrinkWrap:C||2,bodyPadding:"6",items:[O]},N);D=Ext.widget(M)}afterEach(function(){D.destroy()});describe("configured width and height",function(){var L={height:100,width:100};describe("naturally widthed child with long text",function(){beforeEach(function(){K(L,{html:J})});it("should wrap the text",function(){expect(D.child().getHeight()).toBe(40)});it("should not crush the text",function(){expect(D.child().getWidth()).toBe(78)})});describe("naturally widthed child with short text",function(){beforeEach(function(){K(L,{html:G})});it("should not wrap the text",function(){expect(D.child().getHeight()).toBe(20)});it("should naturally width the child",function(){expect(D.child().getWidth()).toBe(78)})});describe("naturally widthed child with long word",function(){beforeEach(function(){K(L,{html:G+" "+H})});it("should wrap the text",function(){expect(D.child().getHeight()).toBe(40)});it("should not allow the child's width to expand beyond the container",function(){expect(D.child().getWidth()).toBe(78)})});describe("naturally widthed child without text",function(){beforeEach(function(){K(L,{height:20})});it("should natuarally width the child",function(){expect(D.child().getWidth()).toBe(78)})});xdescribe("shrink wrapped child",function(){beforeEach(function(){K(L,{xtype:"panel",shrinkWrap:3,html:'<div style="width:20px;height:20px;"></div>'})});it("should not alter the width of the child",function(){expect(D.child().getWidth()).toBe(20)});it("should not alter the height of the child",function(){expect(D.child().getHeight()).toBe(20)})});describe("overflow",function(){describe("overflow x and y auto",function(){var M=Ext.apply({},{autoScroll:true},L);describe("large vertical, no horizontal",function(){beforeEach(function(){K(M,{height:180,width:20})});it("should have the correct scroll height",function(){expect(D.body.dom.scrollHeight).toBe(200)});it("should not have a horizontal scrollbar",function(){expect(D.body.dom.clientHeight).toBe(98)})});describe("small vertical, no horizontal",function(){beforeEach(function(){K(M,{height:79,width:20})});var N=Ext.isIE9m&&!C?xit:it;N("should have the correct scroll height",function(){expect(D.body.dom.scrollHeight).toBe(99)});it("should not have a horizontal scrollbar",function(){expect(D.body.dom.clientHeight).toBe(98)})});describe("large horizontal, no vertical",function(){beforeEach(function(){K(M,{height:20,width:180})});var N=Ext.isIE9?xit:it;it("should have the correct scroll width",function(){expect(D.body.dom.scrollWidth).toBe(200)});N("should not have a vertical scrollbar",function(){expect(D.body.dom.clientWidth).toBe(98)})});describe("small horizontal, no vertical",function(){beforeEach(function(){K(M,{height:20,width:79})});var N=Ext.isIE9m?xit:it;it("should have the correct scroll width",function(){expect(D.body.dom.scrollWidth).toBe(99)});N("should not have a vertical scrollbar",function(){expect(D.body.dom.clientWidth).toBe(98)})});describe("large vertical, large horizontal",function(){beforeEach(function(){K(M,{height:180,width:180})});it("should have the correct scroll height",function(){expect(D.body.dom.scrollHeight).toBe(200)});it("should have the correct scroll width",function(){expect(D.body.dom.scrollWidth).toBe(200)})});describe("large vertical, small horizontal",function(){beforeEach(function(){K(M,{height:180,width:79-E})});it("should have the correct scroll height",function(){expect(D.body.dom.scrollHeight).toBe(200)});it("should have the correct scroll width",function(){expect(D.body.dom.scrollWidth).toBe(99-E)})});describe("small vertical, large horizontal",function(){beforeEach(function(){K(M,{height:79-E,width:180})});it("should have the correct scroll height",function(){expect(D.body.dom.scrollHeight).toBe(99-E)});it("should have the correct scroll width",function(){expect(D.body.dom.scrollWidth).toBe(200)})})});describe("overflow x auto, overflow y scroll",function(){var M=Ext.apply({},{style:"overflow-x:auto;overflow-y:scroll;"},L)});describe("overflow x scroll, overflow y auto",function(){var M=Ext.apply({},{style:"overflow-x:scroll;overflow-y:auto;"},L)});describe("overflow x and y scroll",function(){var M=Ext.apply({},{style:"overflow:scroll;"},L)})});describe("percentage sized children",function(){describe("overflow hidden",function(){beforeEach(function(){K(L,{style:"height: 50%; width: 50%;"})});it("should width the child correctly",function(){expect(D.child().getWidth()).toBe(43)});it("should height the child correctly",function(){expect(D.child().getHeight()).toBe(43)})});describe("overflow auto",function(){var M=Ext.apply({},{style:"overflow:scroll;"},L);beforeEach(function(){K(M,{style:"height: 50%; width: 50%;"})});it("should width the child correctly",function(){expect(D.child().getWidth()).toBe(43)});it("should height the child correctly",function(){expect(D.child().getHeight()).toBe(43)})})})});describe("configured height, shrink wrap width",function(){var L={height:100,shrinkWrap:1};describe("auto width child with text",function(){beforeEach(function(){K(L,{html:J,height:20})});it("should not wrap the text",function(){expect(D.child().getHeight()).toBe(20)});it("should shrink wrap the width",function(){expect(D.getWidth()).toBe(D.child().getWidth()+22)})});describe("child with configured width",function(){beforeEach(function(){K(L,{width:78,height:20})});it("should shrink wrap the width",function(){expect(D.getWidth()).toBe(100)});it("should not alter the width of the child",function(){expect(D.child().getWidth()).toBe(78)})});describe("overflow",function(){var M=Ext.apply({},{bodyStyle:"overflow:auto;"},L);describe("vertical",function(){beforeEach(function(){K(M,{height:180,width:18})});it("should have the correct scroll height",function(){expect(D.body.dom.scrollHeight).toBe(200)});xit("should shrink wrap the width",function(){expect(D.getWidth()).toBe(40+E)})})})});describe("configured width, shrink wrap height",function(){var L={width:100};describe("naturally widthed child with long text",function(){beforeEach(function(){K(L,{html:J})});it("should wrap the text",function(){expect(D.child().getHeight()).toBe(40)});it("should not crush the text",function(){expect(D.child().getWidth()).toBe(78)});it("should shrink wrap the height",function(){expect(D.getHeight()).toBe(62)})});describe("naturally widthed child with short text",function(){beforeEach(function(){K(L,{html:G})});it("should not wrap the text",function(){expect(D.child().getHeight()).toBe(20)});it("should naturally width the child",function(){expect(D.child().getWidth()).toBe(78)});it("should shrink wrap the height",function(){expect(D.getHeight()).toBe(42)})});describe("naturally widthed child with long word",function(){beforeEach(function(){K(L,{html:G+" "+H})});it("should wrap the text",function(){expect(D.child().getHeight()).toBe(40)});it("should not allow the child's width to expand beyond the container",function(){expect(D.child().getWidth()).toBe(78)});it("should shrink wrap the height",function(){expect(D.getHeight()).toBe(62)})});describe("naturally widthed child without text",function(){beforeEach(function(){K(L,{height:20})});it("should naturally width the child",function(){expect(D.child().getWidth()).toBe(78)});it("should shrink wrap the height",function(){expect(D.getHeight()).toBe(42)})});xdescribe("shrink wrapped child",function(){beforeEach(function(){K(L,{xtype:"panel",shrinkWrap:3,html:'<div style="width:20px;height:20px;"></div>'})});it("should not alter the width of the child",function(){expect(D.child().getWidth()).toBe(20)});it("should not alter the height of the child",function(){expect(D.child().getHeight()).toBe(20)});it("should shrink wrap the height",function(){expect(D.getHeight()).toBe(40)})});describe("overflow",function(){var M=Ext.apply({},{bodyStyle:"overflow:auto;"},L);describe("horizontal",function(){beforeEach(function(){K(M,{height:20,width:180})});it("should have the correct scroll width",function(){expect(D.body.dom.scrollWidth).toBe(200)});xit("should shrink wrap the height",function(){expect(D.getHeight()).toBe(42+I)})})})});describe("shrink wrap width and height",function(){var L={shrinkWrap:3};describe("auto width child with text",function(){beforeEach(function(){K(L,{html:J,height:20})});it("should not wrap the text",function(){expect(D.child().getHeight()).toBe(20)});it("should shrink wrap the width",function(){expect(D.getWidth()).toBe(D.child().getWidth()+22)});it("should shrink wrap the height",function(){expect(D.getHeight()).toBe(42)})});describe("child with configured width",function(){beforeEach(function(){K(L,{width:78,height:78})});it("should shrink wrap the width",function(){expect(D.getWidth()).toBe(100)});it("should not alter the width of the child",function(){expect(D.child().getWidth()).toBe(78)});it("should shrink wrap the height",function(){expect(D.getHeight()).toBe(100)});it("should not alter the height of the child",function(){expect(D.child().getHeight()).toBe(78)})})});describe("margin collapse",function(){var L;function M(N){L=Ext.create("Ext.Container",{renderTo:document.body,items:[{xtype:"component",margin:5,height:90,style:N}]})}afterEach(function(){L.destroy()});it("should contain the margins of of its child items",function(){M();expect(L.getHeight()).toBe(100)});it("should contain the margins of of its floated child items",function(){M("float:left");expect(L.getHeight()).toBe(100)})})})}A();A(true)})