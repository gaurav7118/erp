describe("Ext.picker.Color",function(){var B,A=function(C){B=new Ext.picker.Color(Ext.apply({renderTo:Ext.getBody()},C))};beforeEach(function(){this.addMatchers({toHaveSelected:function(C){var D=this.actual.el.down("a.color-"+C,true);return Ext.fly(D).hasCls(B.selectedCls)}})});afterEach(function(){if(B){B.destroy();B=null}});describe("initialisation",function(){beforeEach(function(){A({value:"003300"})});it("should select the element corresponding to the initial value",function(){expect(B).toHaveSelected("003300")});it("should set the value",function(){expect(B.value).toBe("003300")})});describe("mouse click",function(){beforeEach(function(){var C,D;A();C=B.el.down("a.color-339966",true);D=Ext.fly(C).getAnchorXY("c");jasmine.fireMouseEvent(C,"click",D[0],D[1])});it("should select the element corresponding to the initial value",function(){expect(B).toHaveSelected("339966")});it("should set the value",function(){expect(B.value).toBe("339966")})});describe("select",function(){describe("when picker is rendered",function(){beforeEach(function(){A()});it("should handle color with #",function(){B.select("#339966");expect(B).toHaveSelected("339966");expect(B.value).toBe("339966")});it("should handle color without #",function(){B.select("339966");expect(B).toHaveSelected("339966");expect(B.value).toBe("339966")});it("should be able to supress event",function(){spyOn(B,"fireEvent");B.select("#339966",true);expect(B.fireEvent).not.toHaveBeenCalled()})});describe("when picker isn't rendered",function(){beforeEach(function(){A({renderTo:undefined})});it("should handle color with #",function(){B.select("#339966");expect(B.value).toBe("339966")});it("should handle color without #",function(){B.select("339966");expect(B.value).toBe("339966")});it("should be able to supress event",function(){spyOn(B,"fireEvent");B.select("#339966",true);expect(B.fireEvent).not.toHaveBeenCalled()})})});describe("getValue",function(){beforeEach(function(){A()});it("should return the value if a value was selected",function(){B.select("339966");expect(B.getValue()).toBe("339966")});it("should return null if no value was selected",function(){expect(B.getValue()).toBeNull()})})})