describe("Ext.slider.Thumb",function(){var D,A,C,B;beforeEach(function(){C=function(E){D=new Ext.slider.Multi(Ext.apply({renderTo:Ext.getBody(),name:"test",width:219,labelWidth:0,hideEmptyLabel:false,minValue:0,maxValue:100,animate:false},E))};B=function(E){A=new Ext.slider.Thumb(E)}});afterEach(function(){if(D){D.destroy()}D=null;if(A){A.destroy()}A=null});describe("component initialization",function(){describe("if slider is vertical",function(){beforeEach(function(){B({slider:{vertical:true}})});specFor(Ext.slider.Thumb.Vertical,function(E,F){it("should override "+E+" method",function(){expect(A[E]).toBe(F)})})})});describe("thumb slide",function(){describe("horizontal",function(){var E,G,H,F=function(I){C(Ext.apply({values:[0,60,90]},I));E=D.thumbs[0];G=D.thumbs[1];H=D.thumbs[2];spyOn(D,"fireEvent").andCallThrough()};describe("mouse events",function(){describe("on slider mousedown",function(){describe("on thumb",function(){describe("no drag (mousedown/mouseup)",function(){beforeEach(function(){F();var J=E.el.getXY();jasmine.fireMouseEvent(E.el,"mousedown",J[0],J[1]);jasmine.fireMouseEvent(E.el,"mouseup",J[0],J[1])});it("should not change the thumb value",function(){expect(E.value).toEqual(0)})});var I={};I["drag without snapping"]={config:{},expected:3};I["drag with snapping"]={config:{increment:5},expected:5};specFor(I,function(J,K){describe(J,function(){beforeEach(function(){F(K.config);var O=E.el.getXY(),N=D.innerEl,L=N.getWidth(),M=L*(D.calculateThumbPosition(K.expected-D.getValue(0))/100);jasmine.fireMouseEvent(E.el,"mousedown",O[0],O[1]);O[0]+=M;jasmine.fireMouseEvent(E.el,"mousemove",O[0],O[1]);jasmine.fireMouseEvent(E.el,"mouseup",O[0],O[1])});it("should change the thumb value",function(){expect(E.value).toEqual(K.expected)});describe("z-index",function(){it("should increase z-index of dragged thumb",function(){expect(E.el.dom.style.zIndex).toBeGreaterThan(0)});it("should remove z-index of non-dragged thumb",function(){expect(G.el.dom.style.zIndex==9000).toBe(true);expect(H.el.dom.style.zIndex==8000).toBe(true)})})})})});describe("outside thumbs",function(){beforeEach(function(){F()});describe("if slider enabled",function(){beforeEach(function(){var I=D.innerEl.getXY();jasmine.fireMouseEvent(D.el,"click",I[0]+100,I[1]+10)});it("should change the thumb value",function(){expect(G.value).toEqual(50)})});describe("if slider disabled",function(){beforeEach(function(){D.disable();var I=D.innerEl.getXY();jasmine.fireMouseEvent(D.el,"mousedown",I[0]+10,I[1]+10)});it("should not change the thumb value",function(){expect(E.value).toEqual(0)})})})})})});describe("vertical",function(){var E,G,H,F=function(I){C(Ext.apply({values:[0,60,90],height:214,vertical:true},I));E=D.thumbs[0];G=D.thumbs[1];H=D.thumbs[2];spyOn(D,"fireEvent").andCallThrough()};describe("mouse events",function(){describe("on slider mousedown",function(){describe("on thumb",function(){var I={};I["drag without snapping"]={config:{},expected:54};I["drag with snapping"]={config:{increment:10},expected:50};specFor(I,function(J,K){describe(J,function(){beforeEach(function(){F(K.config);var N=E.el.getXY(),M=D.innerEl,L=M.getHeight(),O=L*(D.calculateThumbPosition(D.getValue(0)-K.expected)/100);jasmine.fireMouseEvent(E.el,"mousedown",N[0],N[1]);N[1]+=O;jasmine.fireMouseEvent(E.el,"mousemove",N[0],N[1]);jasmine.fireMouseEvent(E.el,"mouseup",N[0],N[1])});it("should change the thumb value",function(){expect(E.value).toEqual(K.expected)});describe("z-index",function(){it("should increase z-index of dragged thumb",function(){expect(E.el.dom.style.zIndex).toBeGreaterThan(0)});it("should remove z-index of non-dragged thumb",function(){expect(G.el.dom.style.zIndex==9000).toBe(true);expect(H.el.dom.style.zIndex==8000).toBe(true)})})})})});describe("outside thumbs",function(){beforeEach(function(){F()});describe("if slider enabled",function(){beforeEach(function(){var I=D.innerEl.getXY(),J=Math.floor(D.innerEl.getHeight()/2);jasmine.fireMouseEvent(D.el,"click",I[0]+8,I[1]+J)});it("should change the thumb value",function(){expect(G.value).toEqual(50)})});describe("if slider disabled",function(){beforeEach(function(){D.disable();var I=D.innerEl.getXY();jasmine.fireMouseEvent(D.el,"mousedown",I[0]+10,I[1]-10)});it("should not change the thumb value",function(){expect(E.value).toEqual(0)})})})})})})})})