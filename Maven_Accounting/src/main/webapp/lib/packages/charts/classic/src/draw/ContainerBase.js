Ext.define("Ext.draw.ContainerBase",{extend:"Ext.panel.Panel",requires:["Ext.window.Window"],previewTitleText:"Chart Preview",previewAltText:"Chart preview",layout:"container",addElementListener:function(){var B=this,A=arguments;if(B.rendered){B.el.on.apply(B.el,A)}else{B.on("render",function(){B.el.on.apply(B.el,A)})}},removeElementListener:function(){var B=this,A=arguments;if(B.rendered){B.el.un.apply(B.el,A)}},afterRender:function(){this.callParent(arguments);this.initAnimator()},getItems:function(){var B=this,A=B.items;if(!A||!A.isMixedCollection){B.initItems()}return B.items},onRender:function(){this.callParent(arguments);this.element=this.el;this.innerElement=this.body},setItems:function(A){this.items=A;return A},setSurfaceSize:function(B,A){this.resizeHandler({width:B,height:A});this.renderFrame()},onResize:function(C,A,B,E){var D=this;D.callParent([C,A,B,E]);D.setBodySize({width:C,height:A})},preview:function(){var A=this.getImage();new Ext.window.Window({title:this.previewTitleText,closeable:true,renderTo:Ext.getBody(),autoShow:true,maximizeable:true,maximized:true,border:true,layout:{type:"hbox",pack:"center",align:"middle"},items:{xtype:"container",items:{xtype:"image",mode:"img",cls:Ext.baseCSSPrefix+"chart-image",alt:this.previewAltText,src:A.data,listeners:{afterrender:function(){var E=this,B=E.imgEl.dom,D=A.type==="svg"?1:(window["devicePixelRatio"]||1),C;if(!B.naturalWidth||!B.naturalHeight){B.onload=function(){var G=B.naturalWidth,F=B.naturalHeight;E.setWidth(Math.floor(G/D));E.setHeight(Math.floor(F/D))}}else{C=E.getSize();E.setWidth(Math.floor(C.width/D));E.setHeight(Math.floor(C.height/D))}}}}}})},privates:{getTargetEl:function(){return this.innerElement},reattachToBody:function(){var A=this;if(A.pendingDetachSize){A.onBodyResize()}A.pendingDetachSize=false;A.callParent()}}})