Ext.define("Ext.chart.axis.segmenter.Time",{extend:"Ext.chart.axis.segmenter.Segmenter",alias:"segmenter.time",config:{step:null},renderer:function(C,B){var A=Ext.Date;switch(B.majorTicks.unit){case"y":return A.format(C,"Y");case"mo":return A.format(C,"Y-m");case"d":return A.format(C,"Y-m-d")}return A.format(C,"Y-m-d\nH:i:s")},from:function(A){return new Date(A)},diff:function(B,A,C){if(isFinite(B)){B=new Date(B)}if(isFinite(A)){A=new Date(A)}return Ext.Date.diff(B,A,C)},align:function(A,C,B){if(B==="d"&&C>=7){A=Ext.Date.align(A,"d",C);A.setDate(A.getDate()-A.getDay()+1);return A}else{return Ext.Date.align(A,B,C)}},add:function(C,B,A){return Ext.Date.add(new Date(C),A,B)},stepUnits:[[Ext.Date.YEAR,1,2,5,10,20,50,100,200,500],[Ext.Date.MONTH,1,3,6],[Ext.Date.DAY,1,7,14],[Ext.Date.HOUR,1,6,12],[Ext.Date.MINUTE,1,5,15,30],[Ext.Date.SECOND,1,5,15,30],[Ext.Date.MILLI,1,2,5,10,20,50,100,200,500]],preferredStep:function(B,E){if(this.getStep()){return this.getStep()}var F=new Date(+B),G=new Date(+B+Math.ceil(E)),D=this.stepUnits,J,I,H,C,A;for(C=0;C<D.length;C++){I=D[C][0];H=this.diff(F,G,I);if(H>0){for(A=1;A<D[C].length;A++){if(H<=D[C][A]){J={unit:I,step:D[C][A]};break}}if(!J){C--;J={unit:D[C][0],step:1}}break}}if(!J){J={unit:Ext.Date.DAY,step:1}}return J}})