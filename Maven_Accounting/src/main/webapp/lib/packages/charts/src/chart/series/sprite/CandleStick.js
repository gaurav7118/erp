Ext.define("Ext.chart.series.sprite.CandleStick",{alias:"sprite.candlestickSeries",extend:"Ext.chart.series.sprite.Aggregative",inheritableStatics:{def:{processors:{raiseStyle:function(B,A){return Ext.merge({},A||{},B)},dropStyle:function(B,A){return Ext.merge({},A||{},B)},barWidth:"number",padding:"number",ohlcType:"enums(candlestick,ohlc)"},defaults:{raiseStyle:{strokeStyle:"green",fillStyle:"green"},dropStyle:{strokeStyle:"red",fillStyle:"red"},planar:false,barWidth:15,padding:3,lineJoin:"miter",miterLimit:5,ohlcType:"candlestick"},triggers:{raiseStyle:"raiseStyle",dropStyle:"dropStyle"},updaters:{raiseStyle:function(){this.raiseTemplate&&this.raiseTemplate.setAttributes(this.attr.raiseStyle)},dropStyle:function(){this.dropTemplate&&this.dropTemplate.setAttributes(this.attr.dropStyle)}}}},candlestick:function(I,C,A,E,H,F,B){var D=Math.min(C,H),G=Math.max(C,H);I.moveTo(F,E);I.lineTo(F,G);I.moveTo(F+B,G);I.lineTo(F+B,D);I.lineTo(F-B,D);I.lineTo(F-B,G);I.closePath();I.moveTo(F,A);I.lineTo(F,D)},ohlc:function(B,D,E,A,F,C,G){B.moveTo(C,E);B.lineTo(C,A);B.moveTo(C,D);B.lineTo(C-G,D);B.moveTo(C,F);B.lineTo(C+G,F)},constructor:function(){this.callParent(arguments);this.raiseTemplate=new Ext.draw.sprite.Rect({parent:this});this.dropTemplate=new Ext.draw.sprite.Rect({parent:this})},getGapWidth:function(){var A=this.attr,B=A.barWidth,C=A.padding;return B+C},renderAggregates:function(D,C,B,S,T,Y){var c=this,R=this.attr,I=R.dataX,U=R.matrix,E=U.getXX(),Q=U.getYY(),K=U.getDX(),H=U.getDY(),N=R.barWidth/E,b,J=R.ohlcType,F=Math.round(N*0.5*E),A=D.open,X=D.close,a=D.maxY,O=D.minY,P=D.startIdx,L,G,d,M,Z,W,V=R.lineWidth*S.devicePixelRatio/2;V-=Math.floor(V);T.save();b=this.raiseTemplate;b.useAttributes(T,Y);T.beginPath();for(W=C;W<B;W++){if(A[W]<=X[W]){L=Math.round(A[W]*Q+H)+V;G=Math.round(a[W]*Q+H)+V;d=Math.round(O[W]*Q+H)+V;M=Math.round(X[W]*Q+H)+V;Z=Math.round(I[P[W]]*E+K)+V;c[J](T,L,G,d,M,Z,F)}}T.fillStroke(b.attr);T.restore();T.save();b=this.dropTemplate;b.useAttributes(T,Y);T.beginPath();for(W=C;W<B;W++){if(A[W]>X[W]){L=Math.round(A[W]*Q+H)+V;G=Math.round(a[W]*Q+H)+V;d=Math.round(O[W]*Q+H)+V;M=Math.round(X[W]*Q+H)+V;Z=Math.round(I[P[W]]*E+K)+V;c[J](T,L,G,d,M,Z,F)}}T.fillStroke(b.attr);T.restore()}})