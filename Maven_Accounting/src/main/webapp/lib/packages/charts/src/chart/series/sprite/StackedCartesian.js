Ext.define("Ext.chart.series.sprite.StackedCartesian",{extend:"Ext.chart.series.sprite.Cartesian",inheritableStatics:{def:{processors:{groupCount:"number",groupOffset:"number",dataStartY:"data"},defaults:{selectionTolerance:20,groupCount:1,groupOffset:0,dataStartY:null},triggers:{dataStartY:"dataY,bbox"}}},getIndexNearPoint:function(E,D){var N=this,P=N.attr.matrix,H=N.attr.dataX,F=N.attr.dataY,T=N.attr.dataStartY,K=N.attr.selectionTolerance,R=0.5,Q=Infinity,B=-1,J=P.clone().prependMatrix(this.surfaceMatrix).inverse(),S=J.transformPoint([E,D]),A=J.transformPoint([E-K,D-K]),M=J.transformPoint([E+K,D+K]),L=Math.min(A[1],M[1]),C=Math.max(A[1],M[1]),I,G;for(var O=0;O<H.length;O++){if(Math.min(T[O],F[O])<=C&&L<=Math.max(T[O],F[O])){I=Math.abs(H[O]-S[0]);G=Math.max(-Math.min(F[O]-S[1],S[1]-T[O]),0);if(I<R&&G<=Q){R=I;Q=G;B=O}}}return B}})