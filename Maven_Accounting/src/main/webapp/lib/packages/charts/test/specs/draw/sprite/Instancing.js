describe("Ext.draw.sprite.Instancing",function(){describe("'template' config",function(){it("should set the template's parent to the instancing sprite",function(){var A=new Ext.draw.sprite.Rect(),B=new Ext.draw.sprite.Instancing({template:A});expect(A.getParent()).toBe(B);B.destroy()});it("should destroy the template when destroyed",function(){var A=new Ext.draw.sprite.Rect(),B=new Ext.draw.sprite.Instancing({template:A});B.destroy();expect(B.isDestroyed).toBe(true)})});describe("hitTest",function(){var D,C,A,B;beforeEach(function(){B=new Ext.draw.Container();A=new Ext.draw.Surface();D=new Ext.draw.sprite.Circle({hidden:false,globalAlpha:1,fillOpacity:1,strokeOpacity:1,fillStyle:"red",strokeStyle:"red"});C=new Ext.draw.sprite.Instancing({template:D});A.add(C);B.add(A)});afterEach(function(){Ext.destroy(D,C,A,B)});it("should return an object with the 'sprite' property set to the instancing sprite, 'template' property set to the instancing template, 'instance' property set to the attributes of the instance, 'index' property set to the index of the instance, and 'isInstance' property set to true",function(){C.createInstance({r:50,cx:300,cy:300});C.createInstance({r:100,cx:100,cy:100});var E=C.hitTest([90,90]);expect(E.isInstance).toBe(true);expect(E.instance).toBe(C.get(1));expect(E.index).toBe(1);expect(E.template).toBe(D);expect(E.sprite).toBe(C)});it("should return null for hidden instances",function(){C.createInstance({r:100,cx:100,cy:100,hidden:true});var E=C.hitTest([90,90]);expect(E).toBe(null)})})})