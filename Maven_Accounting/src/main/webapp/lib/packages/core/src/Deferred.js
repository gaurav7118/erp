Ext.define("Ext.Deferred",function(B){var C,A;return{extend:"Ext.promise.Deferred",requires:["Ext.Promise"],statics:{_ready:function(){C=Ext.promise.Promise;A=Ext.Promise.resolve},all:function(){return C.all.apply(C,arguments)},any:function(D){if(!(Ext.isArray(D)||C.is(D))){Ext.raise("Invalid parameter: expected an Array or Promise of an Array.")}return B.some(D,1).then(function(E){return E[0]},function(E){if(E instanceof Error&&E.message==="Too few Promises were resolved."){Ext.raise("No Promises were resolved.")}else{throw E}})},delay:function(D,F){var E;if(arguments.length===1){F=D;D=undefined}F=Math.max(F,0);E=new B();setTimeout(function(){E.resolve(D)},F);return E.promise},map:function(D,E){if(!(Ext.isArray(D)||C.is(D))){Ext.raise("Invalid parameter: expected an Array or Promise of an Array.")}if(!Ext.isFunction(E)){Ext.raise("Invalid parameter: expected a function.")}return B.resolved(D).then(function(G){var N,L,F,J,M,H,I,K;J=G.length;H=new Array(G.length);N=new B();if(!J){N.resolve(H)}else{M=function(P,O){return B.resolved(P).then(function(Q){return E(Q,O,H)}).then(function(Q){H[O]=Q;if(!--J){N.resolve(H)}return Q},function(Q){return N.reject(Q)})};for(L=I=0,K=G.length;I<K;L=++I){F=G[L];if(L in G){M(F,L)}else{J--}}}return N.promise})},memoize:function(G,F,D){var E=Ext.Function.memoize(G,F,D);return function(){return B.all(Ext.Array.slice(arguments)).then(function(H){return E.apply(F,H)})}},parallel:function(E,F){if(F==null){F=null}var D=Ext.Array.slice(arguments,2);return B.map(E,function(G){if(!Ext.isFunction(G)){throw new Error("Invalid parameter: expected a function.")}return G.apply(F,D)})},pipeline:function(E,D,F){if(F==null){F=null}return B.reduce(E,function(H,G){if(!Ext.isFunction(G)){throw new Error("Invalid parameter: expected a function.")}return G.call(F,H)},D)},reduce:function(E,F,D){if(!(Ext.isArray(E)||C.is(E))){Ext.raise("Invalid parameter: expected an Array or Promise of an Array.")}if(!Ext.isFunction(F)){Ext.raise("Invalid parameter: expected a function.")}var G=arguments.length===3;return B.resolved(E).then(function(I){var H=[I,function(K,L,J){return B.resolved(K).then(function(M){return B.resolved(L).then(function(N){return F(M,N,J,I)})})}];if(G){H.push(D)}return Ext.Array.reduce.apply(Ext.Array,H)})},rejected:function(E){var D=new Ext.Deferred();D.reject(E);return D.promise},resolved:function(E){var D=new Ext.Deferred();D.resolve(E);return D.promise},sequence:function(E,F){if(F==null){F=null}var D=Ext.Array.slice(arguments,2);return B.reduce(E,function(G,H){if(!Ext.isFunction(H)){throw new Error("Invalid parameter: expected a function.")}return B.resolved(H.apply(F,D)).then(function(I){G.push(I);return G})},[])},some:function(E,D){if(!(Ext.isArray(E)||C.is(E))){Ext.raise("Invalid parameter: expected an Array or Promise of an Array.")}if(!Ext.isNumeric(D)||D<=0){Ext.raise("Invalid parameter: expected a positive integer.")}return B.resolved(E).then(function(H){var P,L,N,O,G,F,J,M,I,K;M=[];J=D;F=(H.length-J)+1;P=new B();if(H.length<D){P.reject(new Error("Too few Promises were resolved."))}else{O=function(Q){if(J>0){M.push(Q)}J--;if(J===0){P.resolve(M)}return Q};N=function(Q){F--;if(F===0){P.reject(new Error("Too few Promises were resolved."))}return Q};for(L=I=0,K=H.length;I<K;L=++I){G=H[L];if(L in H){B.resolved(G).then(O,N)}}}return P.promise})},timeout:function(D,F){var E=new B(),G;G=setTimeout(function(){if(G){E.reject(new Error("Promise timed out."))}},F);B.resolved(D).then(function(H){clearTimeout(G);G=null;E.resolve(H)},function(H){clearTimeout(G);G=null;E.reject(H)});return E.promise}}}},function(A){A._ready()})