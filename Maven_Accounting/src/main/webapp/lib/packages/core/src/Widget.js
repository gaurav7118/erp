Ext.define("Ext.Widget",{extend:"Ext.Evented",xtype:"widget",requires:["Ext.dom.Element"],mixins:["Ext.mixin.Inheritable","Ext.mixin.Bindable","Ext.mixin.ComponentDelegation"],isWidget:true,element:{reference:"element"},observableType:"component",cachedConfig:{style:null},config:{userCls:null},eventedConfig:{width:null,height:null},template:[],constructor:function(B){var C=this,A;C.initId(B);C.initElement();C.mixins.observable.constructor.call(C,B);Ext.ComponentManager.register(C);A=C.getController();if(A){A.init(C)}},afterCachedConfig:function(){var H=this,I=H.self.prototype,J=H.referenceList,C=H.renderElement,F,D,E,G,B,A;I.renderTemplate=F=document.createDocumentFragment();F.appendChild(C.clone(true,true));A=F.querySelectorAll("[id]");for(E=0,G=A.length;E<G;E++){D=A[E];D.removeAttribute("id")}for(E=0,G=J.length;E<G;E++){B=J[E];H[B].dom.removeAttribute("reference")}},addCls:function(A){this.el.addCls(A)},applyWidth:function(A){return this.filterLengthValue(A)},applyHeight:function(A){return this.filterLengthValue(A)},clearListeners:function(){var A=this;A.mixins.observable.clearListeners.call(A);A.mixins.componentDelegation.clearDelegatedListeners.call(A)},destroy:function(){var E=this,B=E.referenceList,C,D,A;for(C=0,D=B.length;C<D;C++){A=B[C];if(E.hasOwnProperty(A)){E[A].destroy();E[A]=null}}E.destroyBindable();E.callParent();Ext.ComponentManager.unregister(E)},doFireEvent:function(B,D,A){var E=this,C=E.mixins.observable.doFireEvent.call(E,B,D,A);if(C!==false){C=E.mixins.componentDelegation.doFireDelegatedEvent.call(E,B,D)}return C},getElementConfig:function(){var B=this,A=B.element;if(!("children" in A)){A=Ext.apply({children:B.getTemplate()},A)}return A},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getTemplate:function(){return this.template},initElement:function(){var K=this,L=K.self.prototype,A=K.getId(),M=K.referenceList=K.referenceList=[],C=true,H,E,G,B,F,J,I,D;if(L.hasOwnProperty("renderTemplate")){H=K.renderTemplate.cloneNode(true);E=H.firstChild}else{C=false;H=document.createDocumentFragment();E=Ext.Element.create(K.processElementConfig.call(L),true);H.appendChild(E)}B=H.querySelectorAll("[reference]");for(F=0,J=B.length;F<J;F++){I=B[F];D=I.getAttribute("reference");if(C){I.removeAttribute("reference")}if(D==="element"){if(G){Ext.raise("Duplicate 'element' reference detected in '"+K.$className+"' template.")}I.id=A;G=K.el=K.addElementReference(D,I);G.dom.setAttribute("data-componentid",A)}else{K.addElementReferenceOnDemand(D,I)}M.push(D)}if(!G){Ext.raise("No 'element' reference found in '"+K.$className+"' template.")}if(E===G.dom){K.renderElement=G}else{K.addElementReferenceOnDemand("renderElement",E)}},is:function(A){return Ext.ComponentQuery.is(this,A)},isXType:function(B,A){return A?(Ext.Array.indexOf(this.xtypes,B)!==-1):!!this.xtypesMap[B]},removeCls:function(A){this.el.removeCls(A)},toggleCls:function(A,B){this.element.toggleCls(A,B)},resolveListenerScope:function(B,A){return this.mixins.inheritable.resolveListenerScope.call(this,B,A)},setSize:function(B,A){if(B!==undefined){this.setWidth(B)}if(A!==undefined){this.setHeight(A)}},applyStyle:function(B,A){if(A&&B===A&&Ext.isObject(A)){B=Ext.apply({},B)}return B},updateStyle:function(A){this.element.applyStyles(A)},updateWidth:function(A){this.element.setWidth(A)},updateHeight:function(A){this.element.setHeight(A)},onFocusEnter:Ext.emptyFn,onFocusLeave:Ext.emptyFn,isAncestor:function(){return false},privates:{addElementReferenceOnDemand:function(A,B){if(this._elementListeners[A]){this.addElementReference(A,B)}else{Ext.Object.defineProperty(this,A,{get:function(){delete this[A];return this.addElementReference(A,B)},configurable:true})}},addElementReference:function(C,E){var F=this,B=F[C]=Ext.get(E),D=F._elementListeners[C],A,G;B.skipGarbageCollection=true;B.component=F;if(D){D=Ext.clone(D);for(A in D){G=D[A];if(typeof G==="object"){G.scope=F}}D.scope=F;B.on(D)}return B},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.element);this.isDetached=true},doAddListener:function(A,G,H,I,C,B,D){var F=this,E;if(I&&"element" in I){if(F.referenceList.indexOf(I.element)===-1){Ext.Logger.error("Adding event listener with an invalid element reference of '"+I.element+"' for this component. Available values are: '"+F.referenceList.join("', '")+"'",F)}F[I.element].doAddListener(A,G,H||F,I,C)}if(I){E=I.delegate;if(E){F.mixins.componentDelegation.addDelegatedListener.call(F,A,G,H,I,C,B,D);return }}F.callParent([A,G,H,I,C,B,D])},doRemoveListener:function(A,C,B){var D=this;D.mixins.observable.doRemoveListener.call(D,A,C,B);D.mixins.componentDelegation.removeDelegatedListener.call(D,A,C,B)},filterLengthValue:function(A){if(A==="auto"||(!A&&A!==0)){return null}return A},getFocusEl:function(){return this.element},initElementListeners:function(K){var J=this,D=J.self.superclass,C=D._elementListeners,E=K.reference,A=K.children,G,I,B,H,F;if(J.hasOwnProperty("_elementListeners")){G=J._elementListeners}else{G=J._elementListeners=(C?Ext.Object.chain(C):{})}if(E){I=K.listeners;if(I){if(C){B=C[E];if(B){I=Ext.Object.chain(B);Ext.apply(I,K.listeners)}}G[E]=I;K.listeners=null}}if(A){for(F=0,H=A.length;F<H;F++){J.initElementListeners(A[F])}}},initId:function(B){var C=this,A=C.config,D=(B&&B.id)||(A&&A.id);if(D){C.setId(D);C.id=D}else{C.getId()}},processElementConfig:function(){var A=this,C=A.self.superclass,B;if(A.hasOwnProperty("_elementConfig")){B=A._elementConfig}else{B=A._elementConfig=A.getElementConfig();if(C.isWidget){A.processElementConfig.call(C)}A.initElementListeners(B)}return B},reattachToBody:function(){this.isDetached=false},updateUserCls:function(B,A){this.element.replaceCls(A,B)}}},function(B){var A=B.prototype;(A.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1;(A.$eventOptions=Ext.Object.chain(A.$eventOptions)).delegate=1})