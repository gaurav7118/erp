Ext.define("Ext.app.ViewController",{extend:"Ext.app.BaseController",requires:["Ext.app.domain.View"],mixins:["Ext.mixin.Factoryable"],isViewController:true,factoryConfig:{type:"controller"},config:{closeViewAction:"destroy"},view:null,constructor:function(){this.compDomain=new Ext.app.domain.View(this);this.callParent(arguments)},beforeInit:Ext.emptyFn,init:Ext.emptyFn,initViewModel:Ext.emptyFn,destroy:function(){var A=this,B=A.compDomain;if(B){B.unlisten(A);B.destroy()}A.compDomain=A.view=null;A.callParent()},closeView:function(){var A=this.getView(),B;if(A){B=this.getCloseViewAction();A[B]()}},control:function(A,B){var C=A;if(Ext.isString(A)){C={};C[A]=B}this.compDomain.listen(C,this)},listen:function(C,A){var B=C.component;if(B){C=Ext.apply({},C);delete C.component;this.control(B)}this.callParent([C,A])},getReferences:function(){var A=this.view;return A&&A.getReferences()},getView:function(){return this.view},lookup:function(B){var A=this.view;return A&&A.lookup(B)},lookupReference:function(A){return this.lookup(A)},getSession:function(){var A=this.view;return A&&A.lookupSession()},getViewModel:function(){var A=this.view;return A&&A.lookupViewModel()},getStore:function(B){var A=this.getViewModel();return A?A.getStore(B):null},fireViewEvent:function(D,B){var C=this.view,A=false,E=arguments;if(C){if(C!==B){E=Ext.Array.slice(E);E.splice(1,0,C)}A=C.fireEvent.apply(C,E)}return A},privates:{view:null,ensureId:function(){var A=this.getId();if(!A){this.setId(Ext.id(null,"controller-"))}},attachReference:function(B){var A=this.view;if(A){A.attachReference(B)}},clearReference:function(B){var A=this.view;if(A){A.clearReference(B)}},clearReferences:function(){var A=this.view;if(A){A.clearReferences()}},setView:function(A){this.view=A;if(!this.beforeInit.$nullFn){this.beforeInit(A)}}}})