Ext.define("Ext.data.proxy.Direct",{extend:"Ext.data.proxy.Server",alternateClassName:"Ext.data.DirectProxy",alias:"proxy.direct",requires:["Ext.direct.Manager"],config:{paramOrder:undefined,paramsAsHash:true,directFn:undefined,api:undefined,metadata:undefined},paramOrderRe:/[\s,|]/,applyParamOrder:function(A){if(Ext.isString(A)){A=A.split(this.paramOrderRe)}return A},updateApi:function(){this.methodsResolved=false},updateDirectFn:function(){this.methodsResolved=false},resolveMethods:function(){var D=this,C=D.getDirectFn(),B=D.getApi(),A=Ext.direct.Manager,E;if(C){D.setDirectFn(E=A.parseMethod(C));if(!Ext.isFunction(E)){Ext.raise("Cannot resolve directFn "+C)}}if(B){for(C in B){if(B.hasOwnProperty(C)){E=B[C];B[C]=A.parseMethod(E);if(!Ext.isFunction(B[C])){Ext.raise("Cannot resolve Direct api "+C+" method "+E)}}}}D.methodsResolved=true},doRequest:function(D){var H=this,A,E,C,B,G,F,I,J;if(!H.methodsResolved){H.resolveMethods()}E=H.buildRequest(D);C=E.getAction();F=H.getApi();if(F){I=F[C]}I=I||H.getDirectFn();if(!I){Ext.raise("No Ext Direct function specified for this proxy")}A=H.getWriter();if(A&&D.allowWrite()){E=A.write(E)}if(C==="read"){B=E.getParams()}else{B=E.getJsonData()}G=I.directCfg.method.getArgs({params:B,paramOrder:H.getParamOrder(),paramsAsHash:H.getParamsAsHash(),metadata:H.getMetadata(),callback:H.createRequestCallback(E,D),scope:H});E.setConfig({args:G,directFn:I});I.apply(window,G);return E},applyEncoding:Ext.identityFn,createRequestCallback:function(C,A){var B=this;return function(E,D){B.processResponse(D.status,A,C,D)}},extractResponseData:function(A){return Ext.isDefined(A.result)?A.result:A.data},setException:function(B,A){B.setException(A.message)},buildUrl:function(){return""}})