Ext.define("Ext.direct.JsonProvider",{extend:"Ext.direct.Provider",alias:"direct.jsonprovider",uses:["Ext.direct.ExceptionEvent","Ext.direct.Manager"],parseResponse:function(A){var B=A&&A.responseText;if(B){if(Ext.isObject(B)||Ext.isArray(B)){return B}return Ext.decode(B)}return null},createEvents:function(B){var F=this,G=null,D=[],E,C,A;try{G=F.parseResponse(B)}catch(H){E=new Ext.direct.ExceptionEvent({data:H,xhr:B,code:Ext.direct.Manager.exceptions.PARSE,message:"Error parsing json response: \n\n "+H});return[E]}if(Ext.isArray(G)){for(C=0,A=G.length;C<A;++C){D.push(F.createEvent(G[C]))}}else{if(Ext.isObject(G)){D.push(F.createEvent(G))}}return D},createEvent:function(A){if(typeof A!=="object"||!("type" in A)){return new Ext.direct.ExceptionEvent({data:A,code:Ext.direct.Manager.exceptions.DATA,message:"Invalid data: event type is not specified"})}return Ext.create("direct."+A.type,A)}})