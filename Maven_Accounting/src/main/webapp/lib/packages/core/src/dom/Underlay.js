Ext.define("Ext.dom.Underlay",{requires:["Ext.dom.UnderlayPool"],constructor:function(A){Ext.apply(this,A)},beforeShow:Ext.emptyFn,getInsertionTarget:function(){return this.target},getPool:function(){return this.pool||(this.self.prototype.pool=new Ext.dom.UnderlayPool(this.elementConfig))},hide:function(){var B=this,A=B.el;if(A){A.hide();B.getPool().checkIn(A);B.el=null;B.hidden=true}},realign:function(H,G,A,I){var E=this,B=E.el,D=E.target,C=E.offsets,F=Math.max;if(B){if(H==null){H=D.getX()}if(G==null){G=D.getY()}if(A==null){A=D.getWidth()}if(I==null){I=D.getHeight()}if(C){H=H+C.x;G=G+C.y;A=F(A+C.w,0);I=F(I+C.h,0)}B.setXY([H,G]);B.setSize(A,I)}},setZIndex:function(A){this.zIndex=A;if(this.el){this.el.setStyle("z-index",A)}},show:function(){var B=this,D=B.target,F=B.zIndex,A=B.el,C=B.getInsertionTarget().dom,E;if(!A){A=B.el=B.getPool().checkOut()}B.beforeShow();if(F==null){F=(parseInt(D.getStyle("z-index"),10))}if(F){A.setStyle("z-index",F)}A.setStyle("position",B.fixed?"fixed":"");E=A.dom;if(E.nextSibling!==C){D.dom.parentNode.insertBefore(E,C)}A.show();B.realign();B.hidden=false}})