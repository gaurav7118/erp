Ext.env.OS=function(N,B,K){var J=this,I=Ext.Boot.osNames,D=Ext.Boot.osPrefixes,A,H="",F=J.is,C,G,E,M,L;K=K||Ext.browser;for(C in D){if(D.hasOwnProperty(C)){G=D[C];E=N.match(new RegExp("(?:"+G+")([^\\s;]+)"));if(E){A=I[C];L=E[1];if(L&&L==="HTC_"){H=new Ext.Version("2.3")}else{if(L&&L==="Silk/"){H=new Ext.Version("2.3")}else{H=new Ext.Version(E[E.length-1])}}break}}}if(!A){A=I[(N.toLowerCase().match(/mac|win|linux/)||["other"])[0]];H=new Ext.Version("")}this.name=A;this.version=H;if(B){this.setFlag(B.replace(/ simulator$/i,""))}this.setFlag(A);if(H){this.setFlag(A+(H.getMajor()||""));this.setFlag(A+H.getShortVersion())}for(C in I){if(I.hasOwnProperty(C)){M=I[C];if(!F.hasOwnProperty(A)){this.setFlag(M,(A===M))}}}if(this.name==="iOS"&&window.screen.height===568){this.setFlag("iPhone5")}if(K.is.Safari||K.is.Silk){if(this.is.Android2||this.is.Android3||K.version.shortVersion===501){K.setFlag("AndroidStock")}if(this.is.Android4){K.setFlag("AndroidStock");K.setFlag("AndroidStock4")}}};Ext.env.OS.prototype={constructor:Ext.env.OS,is:function(A){return !!this[A]},name:null,version:null,setFlag:function(A,B){if(B===undefined){B=true}if(this.flags){this.flags[A]=B}this.is[A]=B;this.is[A.toLowerCase()]=B;return this}};(function(){var A=Ext.global.navigator,G=A.userAgent,F=Ext.env.OS,E=(Ext.is||(Ext.is={})),H,D,B;F.prototype.flags=E;Ext.os=H=new F(G,A.platform);D=H.name;Ext["is"+D]=true;Ext.isMac=E.Mac=E.MacOS;var I=window.location.search.match(/deviceType=(Tablet|Phone)/),C=window.deviceType;if(I&&I[1]){B=I[1]}else{if(C==="iPhone"){B="Phone"}else{if(C==="iPad"){B="Tablet"}else{if(!H.is.Android&&!H.is.iOS&&!H.is.WindowsPhone&&/Windows|Linux|MacOS/.test(D)){B="Desktop";Ext.browser.is.WebView=!!Ext.browser.is.Ripple}else{if(H.is.iPad||H.is.RIMTablet||H.is.Android3||Ext.browser.is.Silk||(H.is.Android&&G.search(/mobile/i)===-1)){B="Tablet"}else{B="Phone"}}}}}H.setFlag(B,true);H.deviceType=B;delete F.prototype.flags}())