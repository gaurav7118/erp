Ext.define("Ext.event.gesture.Rotate",{extend:"Ext.event.gesture.MultiTouch",priority:700,handledEvents:["rotatestart","rotate","rotateend","rotatecancel"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(G){if(!this.isTracking){return }var F=G.touches,B=this.lastAngle,D,E,C,A,H,I;D=F[0].point;E=F[1].point;C=D.getAngleTo(E);if(B!==null){I=Math.abs(B-C);A=C+360;H=C-360;if(Math.abs(A-B)<I){C=A}else{if(Math.abs(H-B)<I){C=H}}}this.lastAngle=C;if(!this.isStarted){this.isStarted=true;this.startAngle=C;this.fire("rotatestart",G,{touches:F,angle:C,rotation:0})}else{this.fire("rotate",G,{touches:F,angle:C,rotation:C-this.startAngle})}this.lastTouches=Ext.Array.clone(F)},fireEnd:function(A){this.lastAngle=null;this.fire("rotateend",A)},fireCancel:function(A){this.lastAngle=null;this.fire("rotatecancel",A)},reset:function(){var A=this;A.lastTouches=A.lastAngle=A.startAngle=null;this.callParent()}},function(A){var B=Ext.manifest.gestures;A.instance=new A(B&&B.rotate)})