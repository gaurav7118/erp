Ext.define("Ext.fx.layout.card.Scroll",{extend:"Ext.fx.layout.card.Abstract",requires:["Ext.fx.easing.Linear"],alias:"fx.layout.card.scroll",config:{duration:150},constructor:function(A){this.initConfig(A)},getEasing:function(){var A=this.easing;if(!A){this.easing=A=new Ext.fx.easing.Linear()}return A},updateDuration:function(A){this.getEasing().setDuration(A)},onActiveItemChange:function(A,D,L,C){var I=this.getDirection(),G=this.getEasing(),K,E,B,H,J,F;if(D&&L){if(this.isAnimating){this.stopAnimation()}D.setWidth("100%");D.setHeight("100%");K=this.getLayout().container.innerElement;H=K.getWidth();J=K.getHeight();E=D.renderElement;B=L.renderElement;this.oldItem=L;this.newItem=D;this.containerElement=K;this.currentEventController=C;this.isReverse=F=this.getReverse();D.show();if(I=="right"){I="left";this.isReverse=F=!F}else{if(I=="down"){I="up";this.isReverse=F=!F}}if(I=="left"){if(F){G.setConfig({startValue:H,endValue:0});K.dom.scrollLeft=H;B.setLeft(H)}else{G.setConfig({startValue:0,endValue:H});E.setLeft(H)}}else{if(F){G.setConfig({startValue:J,endValue:0});K.dom.scrollTop=J;B.setTop(J)}else{G.setConfig({startValue:0,endValue:J});E.setTop(J)}}this.startAnimation();C.pause()}},startAnimation:function(){this.isAnimating=true;this.getEasing().setStartTime(Date.now());Ext.AnimationQueue.start(this.doAnimationFrame,this)},doAnimationFrame:function(){var D=this.getEasing(),C=this.getDirection(),A="scrollTop",B;if(C=="left"||C=="right"){A="scrollLeft"}if(D.isEnded){this.stopAnimation()}else{B=D.getValue();this.containerElement.dom[A]=B}},stopAnimation:function(){var C=this,E=C.getDirection(),A="setTop",D=C.oldItem,B=C.newItem;if(E=="left"||E=="right"){A="setLeft"}C.currentEventController.resume();if(C.isReverse&&D&&D.renderElement&&D.renderElement.dom){D.renderElement[A](null)}else{if(B&&B.renderElement&&B.renderElement.dom){B.renderElement[A](null)}}Ext.AnimationQueue.stop(this.doAnimationFrame,this);C.isAnimating=false;C.fireEvent("animationend",C)}})