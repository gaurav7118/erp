Ext.define("Ext.mixin.Observable",function(A){var D=Ext.emptyFn,C=[],E=Array.prototype,F=E.slice,B=function(G){if(G instanceof B){return G}this.observable=G;if(arguments[1].isObservable){this.managedListeners=true}this.args=F.call(arguments,1)};B.prototype.destroy=function(){this.destroy=Ext.emptyFn;var G=this.observable;G[this.managedListeners?"mun":"un"].apply(G,this.args)};return{extend:"Ext.Mixin",mixinConfig:{id:"observable",after:{destroy:"clearListeners"}},requires:["Ext.util.Event"],mixins:["Ext.mixin.Identifiable"],statics:{releaseCapture:function(G){G.fireEventArgs=this.prototype.fireEventArgs},capture:function(J,H,G){var I=function(K,L){return H.apply(G,[K].concat(L))};this.captureArgs(J,I,G)},captureArgs:function(I,H,G){I.fireEventArgs=Ext.Function.createInterceptor(I.fireEventArgs,H,G)},observe:function(G,H){if(G){if(!G.isObservable){Ext.applyIf(G,new this());this.captureArgs(G.prototype,G.fireEventArgs,G)}if(Ext.isObject(H)){G.on(H)}}return G},prepareClass:function(K,Q,L){var P=K.listeners=[],N=L||K.prototype,G=N.listeners,J=Q?Q.listeners:K.superclass.self.listeners,H,R,O;if(J){P.push(J)}if(G){R=G.scope;if(!R){G.scope="self"}else{O=Ext._namedScopes[R];if(O&&O.isController){G.scope="self.controller"}}P.push(G);N.listeners=null}if(!K.HasListeners){var M=function(){},I=K.superclass.HasListeners||(Q&&Q.HasListeners)||A.HasListeners;K.prototype.HasListeners=K.HasListeners=M;M.prototype=K.hasListeners=new I()}}},isObservable:true,eventsSuspended:0,constructor:function(J){var M=this,I=M.self,H,L,N,G,K;if(M.$observableInitialized){return }M.$observableInitialized=true;M.hasListeners=new M.HasListeners();M.eventedBeforeEventNames={};M.events=M.events||{};H=I.listeners;if(H&&!M._addDeclaredListeners(H)){I.listeners=null}L=(J&&J.listeners)||M.listeners;if(L){if(L instanceof Array){for(K=0,G=L.length;K<G;++K){M.addListener(L[K])}}else{M.addListener(L)}}N=(J&&J.bubbleEvents)||M.bubbleEvents;if(N){M.enableBubble(N)}if(M.$applyConfigs){if(J){Ext.apply(M,J)}}else{M.initConfig(J)}if(L){M.listeners=null}},onClassExtended:function(G,H){if(!G.HasListeners){A.prepareClass(G,G.prototype.$observableMixedIn?undefined:H)}},$eventOptions:{scope:1,delay:1,buffer:1,onFrame:1,single:1,args:1,destroyable:1,priority:1,order:1},$orderToPriority:{before:100,current:0,after:-100},_addDeclaredListeners:function(G){var H=this;if(G instanceof Array){Ext.each(G,H._addDeclaredListeners,H)}else{H._addedDeclaredListeners=true;H.addListener(G)}return H._addedDeclaredListeners},addManagedListener:function(N,J,L,O,P,I){var K=this,M=K.managedListeners=K.managedListeners||[],H,G;if(typeof J!=="string"){G=arguments.length>4?P:J;P=J;for(J in P){if(P.hasOwnProperty(J)){H=P[J];if(!N.$eventOptions[J]){K.addManagedListener(N,J,H.fn||H,H.scope||P.scope||O,H.fn?H:G,true)}}}if(P&&P.destroyable){return new B(K,N,P)}}else{if(L!==D){N.doAddListener(J,L,O,P,null,K,K);if(!I&&P&&P.destroyable){return new B(K,N,J,L,O)}}}},removeManagedListener:function(N,I,L,O){var K=this,P,H,M,G,J;if(typeof I!=="string"){P=I;for(I in P){if(P.hasOwnProperty(I)){H=P[I];if(!N.$eventOptions[I]){K.removeManagedListener(N,I,H.fn||H,H.scope||P.scope||O)}}}}else{M=K.managedListeners?K.managedListeners.slice():[];I=Ext.canonicalEventName(I);for(J=0,G=M.length;J<G;J++){K.removeManagedListenerItem(false,M[J],N,I,L,O)}}},fireEvent:function(G){return this.fireEventArgs(G,F.call(arguments,1))},resolveListenerScope:function(H){var G=Ext._namedScopes[H];if(G){if(G.isController){Ext.raise('scope: "controller" can only be specified on classes that derive from Ext.Component or Ext.Widget')}if(G.isSelf||G.isThis){H=null}}return H||this},fireEventArgs:function(G,I){G=Ext.canonicalEventName(G);var L=this,J=L.events,K=J&&J[G],H=true;if(L.hasListeners[G]){H=L.doFireEvent(G,I||C,K?K.bubble:false)}return H},fireAction:function(H,J,L,K,I,G){if(typeof L==="string"&&!K){L=this[L]}I=I?Ext.Object.chain(I):{};I.single=true;I.priority=((G==="after")?-99.5:99.5);this.doAddListener(H,L,K,I);this.fireEventArgs(H,J)},$eventedController:{_paused:1,pause:function(){++this._paused},resume:function(){var L=this,K=L.fn,J=L.scope,M=L.fnArgs,G=L.owner,I,H;if(!--L._paused){if(K){I=Ext.Array.slice(M||L.args);if(M===false){I.shift()}L.fn=null;I.push(L);if(Ext.isFunction(K)){H=K.apply(J,I)}else{if(J&&Ext.isString(K)&&Ext.isFunction(J[K])){H=J[K].apply(J,I)}}if(H===false){return false}}if(!L._paused){return L.owner.fireEventArgs(L.eventName,L.args)}}}},fireEventedAction:function(H,J,M,P,L){var K=this,O=K.eventedBeforeEventNames,I=O[H]||(O[H]="before"+H),G=Ext.apply({owner:K,eventName:H,fn:M,scope:P,fnArgs:L,args:J},K.$eventedController),N;J.push(G);N=K.fireEventArgs(I,J);J.pop();if(N===false){return false}return G.resume()},doFireEvent:function(I,K,H){var M=this,G,L,J=true;do{if(M.eventsSuspended){if((G=M.eventQueue)){G.push([I,K])}return J}else{L=M.events&&M.events[I];if(L&&L!==true){if((J=L.fire.apply(L,K))===false){break}}}}while(H&&(M=M.getBubbleParent()));return J},getBubbleParent:function(){var H=this,G=H.getBubbleTarget&&H.getBubbleTarget();if(G&&G.isObservable){return G}return null},addListener:function(K,Q,R,S,I,G){var P=this,L=Ext._namedScopes,H,O,M,N,J;if(typeof K!=="string"){S=K;R=S.scope;O=R&&L[R];M=O&&O.isSelf;J=((P.isComponent||P.isWidget)&&S.element)?P.$elementEventOptions:P.$eventOptions;for(K in S){H=S[K];if(!J[K]){N=H.scope;if(N&&M){O=L[N];if(O&&O.isController){N="self.controller"}}P.doAddListener(K,H.fn||H,N||R,H.fn?H:S,I,G)}}if(S&&S.destroyable){return new B(P,S)}}else{P.doAddListener(K,Q,R,S,I,G);if(S&&S.destroyable){return new B(P,K,Q,R,S)}}return P},removeListener:function(J,L,K,G){var M=this,I,H;if(typeof J!=="string"){H=J;G=G||M.$eventOptions;for(J in H){if(H.hasOwnProperty(J)){I=H[J];if(!M.$eventOptions[J]){M.doRemoveListener(J,I.fn||I,I.scope||H.scope)}}}}else{M.doRemoveListener(J,L,K)}return M},onBefore:function(G,J,I,H){return this.addListener(G,J,I,H,"before")},onAfter:function(G,J,I,H){return this.addListener(G,J,I,H,"after")},unBefore:function(G,J,I,H){return this.removeListener(G,J,I,H,"before")},unAfter:function(G,J,I,H){return this.removeListener(G,J,I,H,"after")},addBeforeListener:function(){return this.onBefore.apply(this,arguments)},addAfterListener:function(){return this.onAfter.apply(this,arguments)},removeBeforeListener:function(){return this.unBefore.apply(this,arguments)},removeAfterListener:function(){return this.unAfter.apply(this,arguments)},clearListeners:function(){var K=this,I=K.events,G=K.hasListeners,J,H;if(I){for(H in I){if(I.hasOwnProperty(H)){J=I[H];if(J.isEvent){delete G[H];J.clearListeners()}}}K.events=null}K.clearManagedListeners()},purgeListeners:function(){if(Ext.global.console){Ext.global.console.warn("Observable: purgeListeners has been deprecated. Please use clearListeners.")}return this.clearListeners.apply(this,arguments)},clearManagedListeners:function(){var J=this,H=J.managedListeners?J.managedListeners.slice():[],I=0,G=H.length;for(;I<G;I++){J.removeManagedListenerItem(true,H[I])}J.managedListeners=[]},removeManagedListenerItem:function(H,G,L,I,K,J){if(H||(G.item===L&&G.ename===I&&(!K||G.fn===K)&&(!J||G.scope===J))){G.item.doRemoveListener(G.ename,G.fn,G.scope,G.options);if(!H){Ext.Array.remove(this.managedListeners,G)}}},purgeManagedListeners:function(){if(Ext.global.console){Ext.global.console.warn("Observable: purgeManagedListeners has been deprecated. Please use clearManagedListeners.")}return this.clearManagedListeners.apply(this,arguments)},hasListener:function(G){G=Ext.canonicalEventName(G);return !!this.hasListeners[G]},isSuspended:function(I){var H=this.eventsSuspended>0,G=this.events;if(!H&&I&&G){I=G[I];if(I&&I.isEvent){return I.isSuspended()}}return H},suspendEvents:function(G){++this.eventsSuspended;if(G&&!this.eventQueue){this.eventQueue=[]}},suspendEvent:function(){var L=this,J=L.events,G=arguments.length,I,K,H;for(I=0;I<G;I++){H=arguments[I];H=Ext.canonicalEventName(H);K=J[H];if(!K||!K.isEvent){K=L._initEvent(H)}K.suspend()}},resumeEvent:function(){var I=this.events||0,G=I&&arguments.length,H,J;for(H=0;H<G;H++){J=I[arguments[H]];if(J&&J.resume){J.resume()}}},resumeEvents:function(G){var H=this,K=H.eventQueue,J,I;if(H.eventsSuspended&&!--H.eventsSuspended){delete H.eventQueue;if(!G&&K){J=K.length;for(I=0;I<J;I++){H.fireEventArgs.apply(H,K[I])}}}},relayEvents:function(N,O,I){var M=this,J=O.length,H=0,G,K,L={};if(Ext.isObject(O)){for(H in O){K=O[H];L[H]=M.createRelayer(K)}}else{for(;H<J;H++){G=O[H];L[G]=M.createRelayer(I?I+G:G)}}M.mon(N,L,null,null,undefined);return new B(M,N,L)},createRelayer:function(G,H){var I=this;return function(){return I.fireEventArgs.call(I,G,H?F.apply(arguments,H):arguments)}},enableBubble:function(N){if(N){var L=this,M=(typeof N=="string")?arguments:N,I=L.events,K=I&&M.length,H,J,G;for(G=0;G<K;++G){H=M[G];H=Ext.canonicalEventName(H);J=I[H];if(!J||!J.isEvent){J=L._initEvent(H)}L.hasListeners._incr_(H);J.bubble=true}}},destroy:function(){this.clearListeners();this.callParent()},privates:{doAddListener:function(J,M,P,Q,I,H,K){var L=this,G,O,N;I=I||(Q&&Q.order);if(I){N=(Q&&Q.priority);if(!N){Q=Q?Ext.Object.chain(Q):{};Q.priority=L.$orderToPriority[I]}}J=Ext.canonicalEventName(J);if(!M){Ext.raise("Cannot add '"+J+"' listener to "+L.$className+" instance.  No function specified.")}if(!K&&(P&&P.isObservable&&(P!==L))){K=P}if(K){O=K.managedListeners=K.managedListeners||[];O.push({item:L,ename:J,fn:M,scope:P,options:Q})}G=(L.events||(L.events={}))[J];if(!G||!G.isEvent){G=L._initEvent(J)}if(M!==D){if(G.addListener(M,P,Q,H,K)){L.hasListeners._incr_(J)}}},doRemoveListener:function(H,J,I){var L=this,G=L.events,K;H=Ext.canonicalEventName(H);K=G&&G[H];if(!J){Ext.raise("Cannot remove '"+H+"' listener to "+L.$className+" instance.  No function specified.")}if(K&&K.isEvent){if(K.removeListener(J,I)){L.hasListeners._decr_(H)}}},_initEvent:function(G){return(this.events[G]=new Ext.util.Event(this,G))}},deprecated:{"5.0":{methods:{addEvents:null}}}}},function(){var B=this,E=B.prototype,C=function(){},F=function(G){if(!G.HasListeners){var H=G.prototype;H.$observableMixedIn=1;B.prepareClass(G,this);G.onExtended(function(I,J){Ext.classSystemMonitor&&Ext.classSystemMonitor("extend mixin",arguments);B.prepareClass(I,null,J)});if(H.onClassMixedIn){Ext.override(G,{onClassMixedIn:function(I){F.call(this,I);this.callParent(arguments)}})}else{H.onClassMixedIn=function(I){F.call(this,I)}}}A.call(this,G)},A=E.onClassMixedIn;C.prototype={_decr_:function(H,G){if(G==null){G=1}if(!(this[H]-=G)){delete this[H]}},_incr_:function(G){if(this.hasOwnProperty(G)){++this[G]}else{this[G]=1}}};E.HasListeners=B.HasListeners=C;B.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener",setListeners:"addListener"});B.observeClass=B.observe;function D(M){var L=(this.methodEvents=this.methodEvents||{})[M],I,H,J,K=this,G;if(!L){this.methodEvents[M]=L={};L.originalFn=this[M];L.methodName=M;L.before=[];L.after=[];G=function(P,O,N){if((H=P.apply(O||K,N))!==undefined){if(typeof H=="object"){if(H.returnValue!==undefined){I=H.returnValue}else{I=H}J=!!H.cancel}else{if(H===false){J=true}else{I=H}}}};this[M]=function(){var P=Array.prototype.slice.call(arguments,0),O,Q,N;I=H=undefined;J=false;for(Q=0,N=L.before.length;Q<N;Q++){O=L.before[Q];G(O.fn,O.scope,P);if(J){return I}}if((H=L.originalFn.apply(K,P))!==undefined){I=H}for(Q=0,N=L.after.length;Q<N;Q++){O=L.after[Q];G(O.fn,O.scope,P);if(J){return I}}return I}}return L}Ext.apply(E,{onClassMixedIn:F,beforeMethod:function(I,H,G){D.call(this,I).before.push({fn:H,scope:G})},afterMethod:function(I,H,G){D.call(this,I).after.push({fn:H,scope:G})},removeMethodListener:function(L,J,I){var K=this.getMethodEvent(L),H,G;for(H=0,G=K.before.length;H<G;H++){if(K.before[H].fn==J&&K.before[H].scope==I){Ext.Array.erase(K.before,H,1);return }}for(H=0,G=K.after.length;H<G;H++){if(K.after[H].fn==J&&K.after[H].scope==I){Ext.Array.erase(K.after,H,1);return }}},toggleEventLogging:function(G){Ext.util.Observable[G?"capture":"releaseCapture"](this,function(H){if(Ext.isDefined(Ext.global.console)){Ext.global.console.log(H,arguments)}})}})})