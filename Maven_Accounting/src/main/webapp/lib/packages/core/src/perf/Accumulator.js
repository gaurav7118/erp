Ext.define("Ext.perf.Accumulator",function(){var C=null,G=Ext.global["chrome"],D,B=function(){B=Ext.now;var J,K;if(Ext.isChrome&&G&&G.Interval){J=new G.Interval();J.start();B=function(){return J.microseconds()/1000}}else{if(window.ActiveXObject){try{K=new ActiveXObject("SenchaToolbox.Toolbox");Ext.senchaToolbox=K;B=function(){return K.milliseconds}}catch(L){}}}Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=B;return B()};function H(K,J){K.sum+=J;K.min=Math.min(K.min,J);K.max=Math.max(K.max,J)}function E(M){var K=M?M:(B()-this.time),L=this,J=L.accum;++J.count;if(!--J.depth){H(J.total,K)}H(J.pure,K-L.childTime);C=L.parent;if(C){++C.accum.childCount;C.childTime+=K}}function A(){return{min:Number.MAX_VALUE,max:0,sum:0}}function I(K,J){return function(){var M=K.enter(),L=J.apply(this,arguments);M.leave();return L}}function F(L,K,J,N){var M={avg:0,min:N.min,max:N.max,sum:0};if(L){J=J||0;M.sum=N.sum-K*J;M.avg=M.sum/L}return M}return{requires:["Ext.XTemplate","Ext.ClassManager"],constructor:function(J){var K=this;K.count=K.childCount=K.depth=K.maxDepth=0;K.pure=A();K.total=A();K.name=J},statics:{getTimestamp:B},format:function(J){if(!D){D=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(L){return Math.round(L*100)/100}})}var K=this.getData(J);K.name=this.name;K.pure.type="Pure";K.total.type="Total";K.times=[K.pure,K.total];return D.apply(K)},getData:function(J){var K=this;return{count:K.count,childCount:K.childCount,depth:K.maxDepth,pure:F(K.count,K.childCount,J,K.pure),total:F(K.count,K.childCount,J,K.total)}},enter:function(){var J=this,K={accum:J,leave:E,childTime:0,parent:C};++J.depth;if(J.maxDepth<J.depth){J.maxDepth=J.depth}C=K;K.time=B();return K},monitor:function(L,K,J){var M=this.enter();if(J){L.apply(K,J)}else{L.call(K)}M.leave()},report:function(){Ext.log(this.format())},tap:function(R,T){var S=this,M=typeof T==="string"?[T]:T,Q,U,O,N,L,K,J,P;P=function(){if(typeof R==="string"){Q=Ext.global;N=R.split(".");for(O=0,L=N.length;O<L;++O){Q=Q[N[O]]}}else{Q=R}for(O=0,L=M.length;O<L;++O){K=M[O];U=K.charAt(0)==="!";if(U){K=K.substring(1)}else{U=!(K in Q.prototype)}J=U?Q:Q.prototype;J[K]=I(S,J[K])}};Ext.ClassManager.onCreated(P,S,R);return S}}},function(){Ext.perf.getTimestamp=this.getTimestamp})