Ext.define("Ext.util.Event",function(){var D=Array.prototype.slice,A=Ext.Array.insert,C=Ext.Array.toArray,B={};return{requires:"Ext.util.DelayedTask",isEvent:true,suspended:0,noOptions:{},constructor:function(F,E){this.name=E;this.observable=F;this.listeners=[]},addListener:function(L,E,F,S,O){var V=this,J=false,N=V.observable,I=V.name,P,H,U,R,W,Q,G,K,T,M;if(E&&!Ext._namedScopes[E]&&(typeof L==="string")&&(typeof E[L]!=="function")){Ext.raise("No method named '"+L+"' found on scope object")}if(V.findListener(L,E)===-1){H=V.createListener(L,E,F,S,O);if(V.firing){V.listeners=V.listeners.slice(0)}P=V.listeners;K=G=P.length;U=F&&F.priority;W=V._highestNegativePriorityIndex;Q=W!==undefined;if(U){R=(U<0);if(!R||Q){for(T=(R?W:0);T<G;T++){M=P[T].o?P[T].o.priority||0:0;if(M<U){K=T;break}}}else{V._highestNegativePriorityIndex=K}}else{if(Q){K=W}}if(!R&&K<=W){V._highestNegativePriorityIndex++}if(K===G){P[G]=H}else{A(P,K,[H])}if(N.isElement){N._getPublisher(I).subscribe(N,I,F.delegated!==false,F.capture)}J=true}return J},createListener:function(M,O,E,F,H){var K=this,L=Ext._namedScopes[O],G={fn:M,scope:O,ev:K,caller:F,manager:H,namedScope:L,defaultScope:L?(O||K.observable):undefined,lateBound:typeof M==="string"},N=M,J=false,I;if(E){G.o=E;if(E.single){N=K.createSingle(N,G,E,O);J=true}if(E.target){N=K.createTargeted(N,G,E,O,J);J=true}if(E.delay){N=K.createDelayed(N,G,E,O,J);J=true}if(E.buffer){N=K.createBuffered(N,G,E,O,J);J=true}if(K.observable.isElement){I=E.type;if(I){G.type=I}}}G.fireFn=N;G.wrapped=J;return G},findListener:function(H,G){var F=this.listeners,E=F.length,I;while(E--){I=F[E];if(I){if(I.fn===H&&I.scope==G){return E}}}return -1},removeListener:function(O,Q,M){var N=this,L=false,E=N.observable,K=N.name,G,S,R,I,H,P,F,J;M=M||N.findListener(O,Q);if(M!=-1){G=N.listeners[M];R=G.o;S=N._highestNegativePriorityIndex;if(N.firing){N.listeners=N.listeners.slice(0)}if(G.task){G.task.cancel();delete G.task}I=G.tasks&&G.tasks.length;if(I){while(I--){G.tasks[I].cancel()}delete G.tasks}N.listeners.splice(M,1);H=G.manager;if(H){P=H.managedListeners;if(P){for(J=P.length;J--;){F=P[J];if(F.item===N.observable&&F.ename===K&&F.fn===O&&F.scope===Q){P.splice(J,1)}}}}if(S){if(M<S){N._highestNegativePriorityIndex--}else{if(M===S&&M===N.listeners.length){delete N._highestNegativePriorityIndex}}}if(E.isElement){E._getPublisher(K).unsubscribe(E,K,R.delegated!==false,R.capture)}L=true}return L},clearListeners:function(){var F=this.listeners,E=F.length,G;while(E--){G=F[E];this.removeListener(G.fn,G.scope)}},suspend:function(){++this.suspended},resume:function(){if(this.suspended){--this.suspended}},isSuspended:function(){return this.suspended>0},fireDelegated:function(F,E){this.firingObservable=F;return this.fire.apply(this,E)},fire:function(){var Y=this,P=Y.listeners,J=P.length,M=Y.observable,Q=M.isElement,X=M.isComponent,V=Y.firingObservable,F,U,N,S,E,H,T,R,Z,G,L,I,W,O,K;if(!Y.suspended&&J>0){Y.firing=true;E=arguments.length?D.call(arguments,0):[];T=E.length;if(Q){W=E[0]}for(S=0;S<J;S++){H=P[S];F=H.o;if(Q){if(Z){W.setCurrentTarget(Z)}G=H.type;if(G){L=W;W=E[0]=L.chain({type:G})}Ext.EventObject=W}I=E;if(F){U=F.delegate;if(U){if(Q){R=W.getTarget("#"+W.currentTarget.id+" "+U);if(R){E[1]=R;Z=W.currentTarget;W.setCurrentTarget(R)}else{continue}}else{if(X&&!V.is("#"+M.id+" "+F.delegate)){continue}}}if(Q){if(F.preventDefault){W.preventDefault()}if(F.stopPropagation){W.stopPropagation()}if(F.stopEvent){W.stopEvent()}}E[T]=F;if(F.args){I=F.args.concat(E)}}N=Y.getFireInfo(H);O=N.fn;K=N.scope;N.fn=N.scope=null;if(O.apply(K,I)===false){Ext.EventObject=null;return(Y.firing=false)}if(L){W=E[0]=L;L=null}Ext.EventObject=null}}Y.firing=false;return true},getFireInfo:function(K,J){var L=this.observable,E=K.fireFn,I=K.scope,G=K.namedScope,H;if(!J&&K.wrapped){B.fn=E;return B}H=J?K.fn:E;var F=H;if(K.lateBound){if(!I||G){I=(K.caller||L).resolveListenerScope(K.defaultScope)}if(!I){Ext.raise('Unable to dynamically resolve scope for "'+K.ev.name+'" listener on '+this.observable.id)}if(!Ext.isFunction(I[H])){Ext.raise('No method named "'+H+'" on '+(I.$className||"scope object."))}H=I[H]}else{if(G&&G.isController){I=(K.caller||L).resolveListenerScope(K.defaultScope);if(!I){Ext.raise('Unable to dynamically resolve scope for "'+K.ev.name+'" listener on '+this.observable.id)}}else{if(!I||G){I=L}}}B.fn=H;B.scope=I;if(!H){Ext.raise('Unable to dynamically resolve method "'+F+'" on '+this.observable.$className)}return B},createTargeted:function(G,H,I,F,E){return function(){if(I.target===arguments[0]){var J;if(!E){J=H.ev.getFireInfo(H,true);G=J.fn;F=J.scope;J.fn=J.scope=null}return G.apply(F,arguments)}}},createBuffered:function(G,H,I,F,E){H.task=new Ext.util.DelayedTask();return function(){var J;if(!E){J=H.ev.getFireInfo(H,true);G=J.fn;F=J.scope;J.fn=J.scope=null}H.task.delay(I.buffer,G,F,C(arguments))}},createDelayed:function(G,H,I,F,E){return function(){var J=new Ext.util.DelayedTask(),K;if(!E){K=H.ev.getFireInfo(H,true);G=K.fn;F=K.scope;K.fn=K.scope=null}if(!H.tasks){H.tasks=[]}H.tasks.push(J);J.delay(I.delay||10,G,F,C(arguments))}},createSingle:function(G,H,I,F,E){return function(){var J=H.ev,K;if(J.removeListener(H.fn,F)&&J.observable){J.observable.hasListeners[J.name]--}if(!E){K=J.getFireInfo(H,true);G=K.fn;F=K.scope;K.fn=K.scope=null}return G.apply(F,arguments)}}}})