Ext.define("Ext.util.Filter",{isFilter:true,config:{property:null,value:null,filterFn:null,id:null,anyMatch:false,exactMatch:false,caseSensitive:false,disabled:false,disableOnEmpty:false,operator:null,root:null,serializer:null,convert:null},scope:null,$configStrict:false,statics:{createFilterFn:function(A){if(!A){return Ext.returnTrue}return function(F){var B=A.isCollection?A.items:A,G=B.length,C=true,D,E;for(D=0;C&&D<G;D++){E=B[D];if(!E.getDisabled()){C=E.filter(F)}}return C}},isInvalid:function(A){if(!A.filterFn){if(!A.property){return"A Filter requires either a property or a filterFn to be set"}if(!A.hasOwnProperty("value")&&!A.operator){return"A Filter requires either a property and value, or a filterFn to be set"}}return false}},constructor:function(A){var B=Ext.util.Filter.isInvalid(A);if(B){Ext.log.warn(B)}this.initConfig(A)},preventConvert:{"in":1,notin:1},filter:function(B){var A=this,E=A._filterFn||A.getFilterFn(),D=A.getConvert(),C=A._value;A._filterValue=C;A.isDateValue=Ext.isDate(C);if(A.isDateValue){A.dateValue=C.getTime()}if(D&&!A.preventConvert[A.getOperator()]){A._filterValue=D.call(A.scope||A,C)}return E.call(A.scope||A,B)},getId:function(){var A=this._id;if(!A){A=this.getProperty();if(!A){A=Ext.id(null,"ext-filter-")}this._id=A}return A},getFilterFn:function(){var B=this,C=B._filterFn,A;if(!C){A=B.getOperator();if(A){C=B.operatorFns[A]}else{C=B.createRegexFilter()}B._filterFn=C}return C},createRegexFilter:function(){var B=this,E=!!B.getAnyMatch(),A=!!B.getExactMatch(),C=B.getValue(),D=Ext.String.createRegex(C,!E,!E&&A,!B.getCaseSensitive());return function(F){var G=B.getPropertyValue(F);return D?D.test(G):(G==null)}},getPropertyValue:function(B){var A=this._root,C=(A==null)?B:B[A];return C[this._property]},getState:function(){var C=this.getInitialConfig(),A={},B;for(B in C){if(C.hasOwnProperty(B)){A[B]=C[B]}}delete A.root;A.value=this.getValue();return A},getScope:function(){return this.scope},serialize:function(){var A=this.getState(),B=this.getSerializer();delete A.id;delete A.serializer;if(B){B.call(this,A)}return A},updateOperator:function(){this._filterFn=null},updateValue:function(A){this._filterFn=null;if(this.getDisableOnEmpty()){this.setDisabled(Ext.isEmpty(A))}},updateDisableOnEmpty:function(A){var B=false;if(A){B=Ext.isEmpty(this.getValue())}this.setDisabled(B)},privates:{getCandidateValue:function(C,B,E){var D=this,F=D._convert,A=D.getPropertyValue(C);if(F){A=F.call(D.scope||D,A)}else{if(!E){A=Ext.coerce(A,B)}}return A}}},function(){var A=this.prototype,B=(A.operatorFns={"<":function(D){var C=this._filterValue;return this.getCandidateValue(D,C)<C},"<=":function(D){var C=this._filterValue;return this.getCandidateValue(D,C)<=C},"=":function(D){var E=this,C=E._filterValue;D=E.getCandidateValue(D,C);if(E.isDateValue&&D instanceof Date){D=D.getTime();C=E.dateValue}return D==C},"===":function(D){var E=this,C=E._filterValue;D=E.getCandidateValue(D,C,true);if(E.isDateValue&&D instanceof Date){D=D.getTime();C=E.dateValue}return D===C},">=":function(D){var C=this._filterValue;return this.getCandidateValue(D,C)>=C},">":function(D){var C=this._filterValue;return this.getCandidateValue(D,C)>C},"!=":function(D){var E=this,C=E._filterValue;D=E.getCandidateValue(D,C);if(E.isDateValue&&D instanceof Date){D=D.getTime();C=E.dateValue}return D!=C},"!==":function(D){var E=this,C=E._filterValue;D=E.getCandidateValue(D,C,true);if(E.isDateValue&&D instanceof Date){D=D.getTime();C=E.dateValue}return D!==C},"in":function(D){var C=this._filterValue;return Ext.Array.contains(C,this.getCandidateValue(D,C))},notin:function(D){var C=this._filterValue;return !Ext.Array.contains(C,this.getCandidateValue(D,C))},like:function(D){var C=this._filterValue;return C&&this.getCandidateValue(D,C).toLowerCase().indexOf(C.toLowerCase())>-1}});B["=="]=B["="];B.gt=B[">"];B.ge=B[">="];B.lt=B["<"];B.le=B["<="];B.eq=B["="];B.ne=B["!="]})