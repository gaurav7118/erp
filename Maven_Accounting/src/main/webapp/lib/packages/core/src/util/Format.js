Ext.define("Ext.util.Format",function(){var A;return{requires:["Ext.Error","Ext.Number","Ext.String","Ext.Date"],singleton:true,defaultDateFormat:"m/d/Y",thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",percentSign:"%",currencyAtEnd:false,stripTagsRe:/<\/?[^>]+>/gi,stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,nl2brRe:/\r?\n/g,hashRe:/#+$/,allHashes:/^#+$/,formatPattern:/[\d,\.#]+/,formatCleanRe:/[^\d\.#]/g,I18NFormatCleanRe:null,formatFns:{},constructor:function(){A=this},undef:function(B){return B!==undefined?B:""},defaultValue:function(C,B){return C!==undefined&&C!==""?C:B},substr:"ab".substr(-1)!="b"?function(C,E,B){var D=String(C);return(E<0)?D.substr(Math.max(D.length+E,0),B):D.substr(E,B)}:function(C,D,B){return String(C).substr(D,B)},lowercase:function(B){return String(B).toLowerCase()},uppercase:function(B){return String(B).toUpperCase()},usMoney:function(B){return A.currency(B,"$",2)},currency:function(D,F,C,B){var H="",G=",0",E=0;D=D-0;if(D<0){D=-D;H="-"}C=Ext.isDefined(C)?C:A.currencyPrecision;G+=(C>0?".":"");for(;E<C;E++){G+="0"}D=A.number(D,G);if((B||A.currencyAtEnd)===true){return Ext.String.format("{0}{1}{2}",H,D,F||A.currencySign)}else{return Ext.String.format("{0}{1}{2}",H,F||A.currencySign,D)}},date:function(B,C){if(!B){return""}if(!Ext.isDate(B)){B=new Date(Date.parse(B))}return Ext.Date.dateFormat(B,C||Ext.Date.defaultFormat)},dateRenderer:function(B){return function(C){return A.date(C,B)}},hex:function(D,C){var B=parseInt(D||0,10).toString(16);if(C){if(C<0){C=-C;if(B.length>C){B=B.substring(B.length-C)}}while(B.length<C){B="0"+B}}return B},or:function(C,B){return C||B},pick:function(D,C,E){if(Ext.isNumber(D)){var B=arguments[D+1];if(B){return B}}return D?E:C},stripTags:function(B){return !B?B:String(B).replace(A.stripTagsRe,"")},stripScripts:function(B){return !B?B:String(B).replace(A.stripScriptsRe,"")},fileSize:(function(){var B=1024,C=1048576,D=1073741824;return function(F){var E;if(F<B){if(F===1){E="1 byte"}else{E=F+" bytes"}}else{if(F<C){E=(Math.round(((F*10)/B))/10)+" KB"}else{if(F<D){E=(Math.round(((F*10)/C))/10)+" MB"}else{E=(Math.round(((F*10)/D))/10)+" GB"}}}return E}})(),math:(function(){var B={};return function(D,C){if(!B[C]){B[C]=Ext.functionFactory("v","return v "+C+";")}return B[C](D)}}()),round:function(D,C){var B=Number(D);if(typeof C==="number"){C=Math.pow(10,C);B=Math.round(D*C)/C}else{if(C===undefined){B=Math.round(B)}}return B},number:function(L,F){if(!F){return L}if(isNaN(L)){return""}var E=A.formatFns[F];if(!E){var I=F,O=A.thousandSeparator,M=A.decimalSeparator,G=0,D="",C,J,K,N,B,H;if(F.substr(F.length-2)==="/i"){if(!A.I18NFormatCleanRe||A.lastDecimalSeparator!==M){A.I18NFormatCleanRe=new RegExp("[^\\d\\"+M+"#]","g");A.lastDecimalSeparator=M}F=F.substr(0,F.length-2);C=F.indexOf(O)!==-1;J=F.replace(A.I18NFormatCleanRe,"").split(M)}else{C=F.indexOf(",")!==-1;J=F.replace(A.formatCleanRe,"").split(".")}K=F.replace(A.formatPattern,"");if(J.length>2){Ext.raise({sourceClass:"Ext.util.Format",sourceMethod:"number",value:L,formatString:F,msg:"Invalid number format, should have no more than 1 decimal"})}else{if(J.length===2){G=J[1].length;N=J[1].match(A.hashRe);if(N){H=N[0].length;D='trailingZeroes=new RegExp(Ext.String.escapeRegex(utilFormat.decimalSeparator) + "*0{0,'+H+'}$")'}}}B=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,absVal,fnum,parts"+(C?",thousandSeparator,thousands=[],j,n,i":"")+(K?',formatString="'+F+'",formatPattern=/[\\d,\\.#]+/':"")+',trailingZeroes;return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;',"absVal=Math.abs(v);","fnum=Ext.Number.toFixed(absVal, "+G+");",D,";"];if(C){if(G){B[B.length]='parts=fnum.split(".");';B[B.length]="fnum=parts[0];"}B[B.length]="if(absVal>=1000) {";B[B.length]="thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}";if(G){B[B.length]="fnum += utilFormat.decimalSeparator+parts[1];"}}else{if(G){B[B.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}'}}B[B.length]='if(neg&&fnum!=="'+(G?"0."+Ext.String.repeat("0",G):"0")+'") { fnum="-"+fnum; }';if(N){B[B.length]='fnum=fnum.replace(trailingZeroes,"");'}B[B.length]="return ";if(K){B[B.length]="formatString.replace(formatPattern, fnum);"}else{B[B.length]="fnum;"}B[B.length]="};";E=A.formatFns[I]=Ext.functionFactory("Ext",B.join(""))(Ext)}return E(L)},numberRenderer:function(B){return function(C){return A.number(C,B)}},percent:function(C,B){return A.number(C*100,B||"0")+A.percentSign},attributes:function(C){if(typeof C==="object"){var B=[],D;for(D in C){if(C.hasOwnProperty(D)){B.push(D,'="',D==="style"?Ext.DomHelper.generateStyles(C[D],null,true):Ext.htmlEncode(C[D]),'" ')}}C=B.join("")}return C||""},plural:function(B,C,D){return B+" "+(B===1?C:(D?D:C+"s"))},nl2br:function(B){return Ext.isEmpty(B)?"":B.replace(A.nl2brRe,"<br/>")},capitalize:Ext.String.capitalize,uncapitalize:Ext.String.uncapitalize,ellipsis:Ext.String.ellipsis,escape:Ext.String.escape,escapeRegex:Ext.String.escapeRegex,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,toggle:Ext.String.toggle,trim:Ext.String.trim,parseBox:function(C){C=C||0;if(typeof C==="number"){return{top:C,right:C,bottom:C,left:C}}var D=C.split(" "),B=D.length;if(B===1){D[1]=D[2]=D[3]=D[0]}else{if(B===2){D[2]=D[0];D[3]=D[1]}else{if(B===3){D[3]=D[1]}}}return{top:parseInt(D[0],10)||0,right:parseInt(D[1],10)||0,bottom:parseInt(D[2],10)||0,left:parseInt(D[3],10)||0}}}})