Ext.testHelper={defaultTarget:document.createElement("div"),createTouchList:function(D){var B=[],A,C,E;for(A=0,C=D.length;A<C;A++){E=D[A];B.push(this.createTouch(E))}return B},createTouch:function(A){return Ext.merge({target:this.defaultTarget,timeStamp:Ext.Date.now(),time:Ext.Date.now(),pageX:0,pageY:0,identifier:0,point:new Ext.util.Point(A.pageX||0,A.pageY||0)},A||{})},createTouchEvent:function(B){var A=Ext.merge({type:"touchstart",target:this.defaultTarget,timeStamp:Ext.Date.now(),time:Ext.Date.now(),touches:[],changedTouches:[],targetTouches:[],pageX:0,pageY:0},B||{});A.touches=this.createTouchList(A.touches);A.changedTouches=this.createTouchList(A.changedTouches);A.targetTouches=this.createTouchList(A.targetTouches);return A},createTouchEvents:function(C){var A=[],B,E,D;for(B=0,E=C.length;B<E;B++){D=C[B];A.push(this.createTouchEvent(D))}return A},recognize:function(B,E){var A=0,D,F,G;E=this.createTouchEvents(E);mainLoop:for(D=0,F=E.length;D<F;D++){G=E[D];switch(G.type){case"touchstart":var H=G.changedTouches.length,C=A>0;A+=H;if(!C){if(B.onStart(G)===false){break mainLoop}}if(B.onTouchStart(G)===false){break mainLoop}break;case"touchmove":if(B.onTouchMove(G)===false){break mainLoop}break;case"touchend":H=G.changedTouches.length;A-=H;if(B.onTouchEnd(G)===false){break mainLoop}if(this.currentTouchesCount===0){if(B.onEnd(G)===false){break mainLoop}}break}}return E},events:(Ext.supports.PointerEvents)?{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}:(Ext.supports.MSPointerEvents)?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp",cancel:"MSPointerCancel"}:(Ext.supports.TouchEvents)?{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}:{start:"mousedown",move:"mousemove",end:"mouseup"},fireEvent:function(C,E,A){var B=this.events[C],H={},G,F,D;if(Ext.supports.PointerEvents||Ext.supports.MSPointerEvents){jasmine.firePointerEvent(E,B,A.id,A.x,A.y,A.button||0)}else{if(Ext.supports.TouchEvents){G=H[A.id]={identifier:A.id,pageX:A.x,pageY:A.y};if(B==="touchend"||B==="touchcancel"){delete H[A.id]}D=[];for(F in H){D.push(H[F])}jasmine.fireTouchEvent(E,B,D,[G])}else{jasmine.fireMouseEvent(E,B,A.x,A.y,A.button?A.button:0)}}},touchStart:function(B,A){this.fireEvent("start",B,A)},touchMove:function(B,A){this.fireEvent("move",B,A)},touchEnd:function(B,A){this.fireEvent("end",B,A)},touchCancel:function(B,A){this.fireEvent("cancel",B,A)}}