Ext.define("Ext.ux.ajax.DataSimlet",function(){function B(F,E){var C=F.direction,D=(C&&C.toUpperCase()=="DESC")?-1:1;return function(H,I){var G=H[F.property],K=I[F.property],J=(G<K)?-1:((K<G)?1:0);if(J||!E){return J*D}return E(H,I)}}function A(C,E){for(var F=E,D=C&&C.length;D;){F=B(C[--D],F)}return F}return{extend:"Ext.ux.ajax.Simlet",getData:function(E){var F=this,H=F.data,I=E.params,D=(I.group||"")+"-"+(I.sort||"")+"-"+(I.dir||""),C,G;if(!D){return H}E.groupSpec=I.group&&Ext.decode(I.group);if(D==F.currentOrder){return F.sortedData}C=I.sort;if(I.dir){C=[{direction:I.dir,property:C}]}else{C=Ext.decode(I.sort)}G=A((E.sortSpec=C));G=A(E.groupSpec,G);H=Ext.isArray(H)?H.slice(0):H;if(G){Ext.Array.sort(H,G)}F.sortedData=H;F.currentOrder=D;return H},getPage:function(D,G){var E=G,F=G.length,H=D.params.start||0,C=D.params.limit?Math.min(F,H+D.params.limit):F;if(H||C<F){E=E.slice(H,C)}return E},getGroupSummary:function(D,E,C){return E[0]},getSummary:function(M,G,H){var J=this,C=M.groupSpec[0].property,K,F={},I=[],D,E;Ext.each(H,function(N){D=N[C];F[D]=true});function L(){if(K){I.push(J.getGroupSummary(C,K,M));K=null}}Ext.each(G,function(N){D=N[C];if(E!==D){L();E=D}if(!F[D]){return !I.length}if(K){K.push(N)}else{K=[N]}return true});L();return I}}}())