Ext.define("Ext.ux.ajax.SimXhr",{readyState:0,mgr:null,simlet:null,constructor:function(A){var B=this;Ext.apply(B,A);B.requestHeaders={}},abort:function(){var A=this;if(A.timer){clearTimeout(A.timer);A.timer=null}A.aborted=true},getAllResponseHeaders:function(){var A=[];Ext.Object.each(this.responseHeaders,function(B,C){A.push(B+": "+C)});return A.join("\x0d\x0a")},getResponseHeader:function(B){var A=this.responseHeaders;return(A&&A[B])||null},open:function(F,C,D,A,B){var E=this;E.method=F;E.url=C;E.async=D!==false;E.user=A;E.password=B;E.setReadyState(1)},overrideMimeType:function(A){this.mimeType=A},schedule:function(){var B=this,A=B.mgr.delay;if(A){B.timer=Ext.defer(function(){B.onTick()},A)}else{B.onTick()}},send:function(A){var B=this;B.body=A;if(B.async){B.schedule()}else{B.onComplete()}},setReadyState:function(B){var A=this;if(A.readyState!=B){A.readyState=B;A.onreadystatechange()}},setRequestHeader:function(B,A){this.requestHeaders[B]=A},onreadystatechange:Ext.emptyFn,onComplete:function(){var me=this,callback;me.readyState=4;Ext.apply(me,me.simlet.exec(me));callback=me.jsonpCallback;if(callback){var text=callback+"("+me.responseText+")";eval(text)}},onTick:function(){var A=this;A.timer=null;A.onComplete();A.onreadystatechange&&A.onreadystatechange()}})