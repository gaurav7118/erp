Ext.define("Ext.ux.ajax.XmlSimlet",{extend:"Ext.ux.ajax.DataSimlet",alias:"simlet.xml",xmlTpl:["<{root}>\n",'<tpl for="data">',"    <{parent.record}>\n",'<tpl for="parent.fields">',"        <{name}>{[parent[values.name]]}</{name}>\n","</tpl>","    </{parent.record}>\n","</tpl>","</{root}>"],doGet:function(J){var H=this,B=H.getData(J),G=H.getPage(J,B),D=J.xhr.options.proxy&&J.xhr.options.proxy.reader,F=H.callParent(arguments),A={data:G,reader:D,fields:D&&D.model&&D.model.getFields(),root:D&&D.root,record:D&&D.record},E,C,I;if(J.groupSpec){A.summaryData=H.getSummary(J,B,G)}if(H.xmlTpl){E=Ext.XTemplate.getTpl(H,"xmlTpl");C=E.apply(A)}else{C=B}if(typeof DOMParser!="undefined"){I=(new DOMParser()).parseFromString(C,"text/xml")}else{I=new ActiveXObject("Microsoft.XMLDOM");I.async=false;I.loadXML(C)}F.responseText=C;F.responseXML=I;return F}})