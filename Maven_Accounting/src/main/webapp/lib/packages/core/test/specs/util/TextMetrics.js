describe("Ext.util.TextMetrics",function(){var C="The quick brown fox jumps over the lazy dog",D,B,E,A,F;beforeEach(function(){F=function(G,H){return Ext.getBody().createChild({style:G+":"+H})};E=function(G,H,J,I){Ext.destroy(B);D=F(G,H);B=new Ext.util.TextMetrics(D,J);D.destroy();return B.getSize(I||C)};A=function(H,I,K,J){var G;D=F(H,I);G=Ext.util.TextMetrics.measure(D,J||C,K);D.destroy();return G}});afterEach(function(){Ext.destroy(B);E=A=F=B=null});describe("width",function(){describe("styles that should affect sizing",function(){describe("font size",function(){var G;beforeEach(function(){G=A("font-size","16px").width});it("should affect instance sizing",function(){var H=E("font-size","8px").width;expect(H).toBeLessThan(G);H=E("font-size","24px").width;expect(H).toBeGreaterThan(G)});it("should affect static sizing",function(){var H=A("font-size","8px").width;expect(H).toBeLessThan(G);H=A("font-size","24px").width;expect(H).toBeGreaterThan(G)})});describe("font weight",function(){var G;beforeEach(function(){G=A("font-weight","normal").width});it("should affect instance sizing",function(){var H=E("font-weight","bold").width;expect(H).toBeGreaterThan(G)});it("should affect static sizing",function(){var H=A("font-weight","bold").width;expect(H).toBeGreaterThan(G)})});describe("font family",function(){var G;beforeEach(function(){G=A("font-family","Arial").width});it("should affect instance sizing",function(){var H=E("font-family","Tahoma").width;expect(H).toBeGreaterThan(G)});it("should affect static sizing",function(){var H=A("font-family","Tahoma").width;expect(H).toBeGreaterThan(G)})});xdescribe("text transform",function(){var G;beforeEach(function(){G=A("text-transform","lowercase").width});it("should affect instance sizing",function(){var H=E("text-transform","uppercase").width;expect(H).toBeGreaterThan(G)});it("should affect static sizing",function(){var H=A("text-transform","uppercase").width;expect(H).toBeGreaterThan(G)})});describe("letter spacing",function(){var G;beforeEach(function(){G=A("letter-spacing","16px").width});it("should affect instance sizing",function(){var H=E("letter-spacing","8px").width;expect(H).toBeLessThan(G);H=E("letter-spacing","24px").width;expect(H).toBeGreaterThan(G)});it("should affect static sizing",function(){var H=A("letter-spacing","8px").width;expect(H).toBeLessThan(G);H=A("letter-spacing","24px").width;expect(H).toBeGreaterThan(G)})})})});describe("height",function(){describe("styles that should affect sizing",function(){describe("font size",function(){var G;beforeEach(function(){G=A("font-size","16px",300).height});it("should affect instance sizing",function(){var H=E("font-size","8px",300).height;expect(H).toBeLessThan(G);H=E("font-size","24px",300).height;expect(H).toBeGreaterThan(G)});it("should affect static sizing",function(){var H=A("font-size","8px",300).height;expect(H).toBeLessThan(G);H=A("font-size","24px",300).height;expect(H).toBeGreaterThan(G)})});describe("line height",function(){var G;beforeEach(function(){G=A("line-height","16px",300).height});it("should affect instance sizing",function(){var H=E("line-height","8px",300).height;expect(H).toBeLessThan(G);H=E("line-height","24px",300).height;expect(H).toBeGreaterThan(G)});it("should affect static sizing",function(){var H=A("line-height","8px",300).height;expect(H).toBeLessThan(G);H=A("line-height","24px",300).height;expect(H).toBeGreaterThan(G)})})})});describe("dynamic binding",function(){it("should be able to bind to different elements using an instance",function(){var I,G,K,J,H;H=new Ext.util.TextMetrics();J=F("font-size","8px");H.bind(J);I=H.getWidth(C);J.destroy();J=F("font-size","16px");H.bind(J);G=H.getWidth(C);J.destroy();J=F("font-size","24px");H.bind(J);K=H.getWidth(C);J.destroy();expect(K).toBeGreaterThan(G);expect(G).toBeGreaterThan(I);Ext.destroy(H)});it("should measure different elements using the static method",function(){var H,G,J,I;I=F("font-size","8px");H=Ext.util.TextMetrics.measure(I,C).width;I.destroy();I=F("font-size","16px");G=Ext.util.TextMetrics.measure(I,C).width;I.destroy();I=F("font-size","24px");J=Ext.util.TextMetrics.measure(I,C).width;I.destroy();expect(J).toBeGreaterThan(G);expect(G).toBeGreaterThan(H)})});describe("property copying",function(){it("should copy font-size",function(){E("font-size","53px");expect(B.measure.getStyle("font-size")).toBe("53px")});it("should copy font-style",function(){E("font-style","italic");expect(B.measure.getStyle("font-style")).toBe("italic")});it("should copy font-weight",function(){E("font-weight","900");expect(String(B.measure.getStyle("font-weight"))).toBe("900")});it("should copy font-family",function(){E("font-family","Arial");expect(B.measure.getStyle("font-family")).toBe("Arial")});it("should copy line-height",function(){E("line-height","20px");expect(B.measure.getStyle("line-height")).toBe("20px")});it("should copy text-transform",function(){E("text-transform","uppercase");expect(B.measure.getStyle("text-transform")).toBe("uppercase")});it("should copy letter-spacing",function(){E("letter-spacing","3px");expect(B.measure.getStyle("letter-spacing")).toBe("3px")});it("should copy word-break",function(){E("word-break","break-all");expect(B.measure.getStyle("word-break")).toBe("break-all")})})})