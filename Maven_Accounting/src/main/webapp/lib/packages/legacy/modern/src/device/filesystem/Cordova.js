Ext.define("Ext.device.filesystem.Cordova",{alternateClassName:"Ext.device.filesystem.PhoneGap",extend:"Ext.device.filesystem.HTML5",constructor:function(){Ext.override(Ext.device.filesystem.Entry,{writeMetadata:function(A){var B=this;this.getEntry({options:A.options,success:function(C){C.setMetadata(function(){A.success.call(A.scope||B)},function(D){A.failure.call(A.scope||B,D)},A.metadata)},failure:function(C){A.failure.call(A.scope||B,C)}})},readMetadata:function(A){var B=this;this.getEntry({options:A.options,success:function(C){C.getMetadata(function(D){A.success.call(A.scope||B,D)},function(D){A.failure.call(A.scope||B,D)})},failure:function(C){A.failure.call(A.scope||B,C)}})}});Ext.override(Ext.device.filesystem.FileEntry,{writeData:function(B,A){B.write(A.toString())},upload:function(C){var B=new FileUploadOptions();B.fileKey=C.fileKey||"file";B.fileName=this.path.substr(this.path.lastIndexOf("/")+1);B.mimeType=C.mimeType||"image/jpeg";B.params=C.params||{};B.headers=C.headers||{};B.chunkMode=C.chunkMode||true;var A=new FileTransfer();A.upload(this.path,encodeURI(C.url),C.success,C.failure,B,C.trustAllHosts||false);return A},download:function(B){var A=new FileTransfer();A.download(encodeURI(B.source),this.path,B.success,B.failure,B.trustAllHosts||false,B.options||{});return A}})}})