Ext.define("Ext.ux.colorpick.ColorMap",{extend:"Ext.container.Container",alias:"widget.colorpickercolormap",controller:"colorpickercolormapcontroller",requires:["Ext.ux.colorpick.ColorMapController"],cls:Ext.baseCSSPrefix+"colorpicker-colormap",items:[{xtype:"component",cls:Ext.baseCSSPrefix+"colorpicker-colormap-draghandle-container",itemId:"dragHandle",width:1,height:1,draggable:true,html:'<div class="'+Ext.baseCSSPrefix+'colorpicker-colormap-draghandle"></div>'}],listeners:{boxready:{single:true,fn:"onFirstBoxReady",scope:"controller"},colorbindingchanged:{fn:"onColorBindingChanged",scope:"controller"},huebindingchanged:{fn:"onHueBindingChanged",scope:"controller"}},afterRender:function(){var B=this,C=B.mapGradientUrl,A=B.el;B.callParent();if(!C){C=A.getStyle("background-image");C=C.substring(4,C.length-1);if(C.indexOf('"')===0){C=C.substring(1,C.length-1)}Ext.ux.colorpick.ColorMap.prototype.mapGradientUrl=C}A.setStyle("background-image","none");A=B.layout.getElementTarget();A.createChild({tag:"img",cls:Ext.baseCSSPrefix+"colorpicker-colormap-blender",src:C})},setPosition:function(C){var B=this,A=B.down("#dragHandle");if(!A.dd||!A.dd.constrain){return }if(typeof A.dd.dragEnded!=="undefined"&&!A.dd.dragEnded){return }B.fireEvent("colorbindingchanged",C)},setHue:function(A){var B=this;if(!B.getEl()){return }B.fireEvent("huebindingchanged",A)}})