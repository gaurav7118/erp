Ext.define("Ext.ux.desktop.Wallpaper",{extend:"Ext.Component",alias:"widget.wallpaper",cls:"ux-wallpaper",html:'<img src="'+Ext.BLANK_IMAGE_URL+'">',stretch:false,wallpaper:null,stateful:true,stateId:"desk-wallpaper",afterRender:function(){var A=this;A.callParent();A.setWallpaper(A.wallpaper,A.stretch)},applyState:function(){var B=this,A=B.wallpaper;B.callParent(arguments);if(A!=B.wallpaper){B.setWallpaper(B.wallpaper)}},getState:function(){return this.wallpaper&&{wallpaper:this.wallpaper}},setWallpaper:function(B,A){var C=this,E,D;C.stretch=(A!==false);C.wallpaper=B;if(C.rendered){E=C.el.dom.firstChild;if(!B||B==Ext.BLANK_IMAGE_URL){Ext.fly(E).hide()}else{if(C.stretch){E.src=B;C.el.removeCls("ux-wallpaper-tiled");Ext.fly(E).setStyle({width:"100%",height:"100%"}).show()}else{Ext.fly(E).hide();D="url("+B+")";C.el.addCls("ux-wallpaper-tiled")}}C.el.setStyle({backgroundImage:D||""});if(C.stateful){C.saveState()}}return C}})