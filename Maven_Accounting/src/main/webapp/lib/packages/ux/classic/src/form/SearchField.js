Ext.define("Ext.ux.form.SearchField",{extend:"Ext.form.field.Text",alias:"widget.searchfield",triggers:{clear:{weight:0,cls:Ext.baseCSSPrefix+"form-clear-trigger",hidden:true,handler:"onClearClick",scope:"this"},search:{weight:1,cls:Ext.baseCSSPrefix+"form-search-trigger",handler:"onSearchClick",scope:"this"}},hasSearch:false,paramName:"query",initComponent:function(){var C=this,A=C.store,B;C.callParent(arguments);C.on("specialkey",function(D,E){if(E.getKey()==E.ENTER){C.onSearchClick()}});if(!A||!A.isStore){A=C.store=Ext.data.StoreManager.lookup(A)}A.setRemoteFilter(true);B=C.store.getProxy();B.setFilterParam(C.paramName);B.encodeFilters=function(D){return D[0].getValue()}},onClearClick:function(){var B=this,A=B.activeFilter;if(A){B.setValue("");B.store.getFilters().remove(A);B.activeFilter=null;B.getTrigger("clear").hide();B.updateLayout()}},onSearchClick:function(){var A=this,B=A.getValue();if(B.length>0){A.activeFilter=new Ext.util.Filter({property:A.paramName,value:B});A.store.getFilters().add(A.activeFilter);A.getTrigger("clear").show();A.updateLayout()}}})