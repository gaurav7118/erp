Ext.define("Ext.ux.grid.TransformGrid",{extend:"Ext.grid.Panel",constructor:function(P,F){F=Ext.apply({},F);P=this.table=Ext.get(P);var I=F.fields||[],C=F.columns||[],J=[],L=[],E=P.query("thead th"),H=0,K=E.length,G=P.dom,B,O,M,D,N,A;for(;H<K;++H){D=E[H];N=D.innerHTML;A="tcol-"+H;J.push(Ext.applyIf(I[H]||{},{name:A,mapping:"td:nth("+(H+1)+")/@innerHTML"}));L.push(Ext.applyIf(C[H]||{},{text:N,dataIndex:A,width:D.offsetWidth,tooltip:D.title,sortable:true}))}if(F.width){B=F.width}else{B=P.getWidth()+1}if(F.height){O=F.height}Ext.applyIf(F,{store:{data:G,fields:J,proxy:{type:"memory",reader:{record:"tbody tr",type:"xml"}}},columns:L,width:B,height:O});this.callParent([F]);if(F.remove!==false){G.parentNode.removeChild(G)}},onDestroy:function(){this.callParent();this.table.remove();delete this.table}})